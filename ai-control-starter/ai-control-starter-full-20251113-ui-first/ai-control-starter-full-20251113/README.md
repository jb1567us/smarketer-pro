# AI Control Starter – Full Version (UI-first)

This repo is a **file-first control system** for using AI to build complex projects
(marketing campaigns, full software products, etc.) with a **browser UI** for your idea
and intake questions. You never have to type your idea on the command line.

It supports:

1. **Idea → Virtual Team & Questions (via Flask UI)**
2. **Answers → Project Control Doc (`control.md`)**
3. **Control Doc → Role-specific artifacts via auto-generated scripts**

---

## Core Flow (UI-only, no CLI idea entry)

### 0. Install dependencies (one time)

```bat
install.bat
```

This installs Python packages from `requirements.txt`:
- `openai`
- `jsonschema`
- `flask`

Make sure you have Python on your PATH and set your API key:

```bat
set OPENAI_API_KEY=sk-...
```

### 1. Start the web UI

Run:

```bat
run.bat
```

Choose:

```text
2. Open web UI (enter idea + fill answers in browser)
```

This launches a Flask app and tells you:

- URL: `http://127.0.0.1:5000/`

#### Step 1: Enter your idea

At `/` (the home page):

- You’ll see a big textarea: **“Your project idea”**
- Type your concept in natural language.
- Click **“Generate Team & Questions”**.

This will:

- Save your text into `idea.txt`.
- Call OpenAI to generate:
  - `artifacts/team_and_questions_v0.1.json` (virtual team + questions)
  - `artifacts/intake_answers_v0.1.json` (answers template)

You do **not** need to create or edit `idea.txt` manually.

#### Step 2: Answer the questions

The UI will redirect you to `/questions`, which shows:

- Role-specific sections (Product, Backend, Frontend, Marketing, etc.)
- Global questions

Fill everything out and click **“Save Answers”**.

This writes:

- `artifacts/intake_answers_v0.1.json`

You never need to touch JSON manually.

---

### 2. Generate the Control Doc

After you save answers, go back to the terminal and run:

```bat
run.bat
```

Choose:

```text
3. Generate control.md from your answers
```

Under the hood this runs:

```bat
python scripts\generate_control_doc.py --idea idea.txt
```

It creates (or overwrites) `control.md` at the repo root with:

- Objective
- Scope & Non-Goals
- Roles & Responsibilities
- Deliverables (D1, D2, …)
- Task Graph (T1, T2, …)
- Interface Contracts (/schemas)
- Constraints
- Initial Decision Log
- Open Questions

`control.md` is the **source of truth** the AI will use for generating artifacts.

---

### 3. Auto-create role-specific generator scripts

Once `artifacts/team_and_questions_v0.1.json` exists (which it will after the UI idea step), you can auto-generate one script per role:

```bat
run.bat
```

Choose:

```text
4. Auto-create role-specific generator scripts
```

This runs:

```bat
python scriptsuto_create_role_generators.py
```

It creates scripts like:

- `scripts/gen_product_manager.py`
- `scripts/gen_backend_engineer.py`
- `scripts/gen_marketing_strategist.py`

Each script:

- Reads `control.md`
- Calls OpenAI with a role-specific prompt
- Writes a Markdown artifact to: `artifacts/<role_id>_artifact_v0.1.md`

You can then run any generator directly, e.g.:

```bat
python scripts\gen_backend_engineer.py
```

---

## Files & Folders Overview

```text
ai-control-starter-full-20251113/
  control.md                 # Generated Project Control Doc
  idea.txt                   # Automatically written from the web UI
  install.bat                # Install Python dependencies
  run.bat                    # Simple menu to drive the workflow

  /artifacts/
    team_and_questions_v0.1.json      # Virtual team + questions (generated from idea)
    intake_answers_v0.1.json          # Your answers (written by the UI)
    *_artifact_v0.1.md                # Role-specific artifacts (generated by scripts)
    ...

  /schemas/
    leadrecord.schema.json
    creativespec.schema.json
    trackingevent.schema.json

  /scripts/
    qna_web.py                        # Flask app: idea screen + questions screen
    bootstrap_team_and_questions.py   # CLI bootstrap (optional legacy path)
    generate_control_doc.py           # Build control.md from idea + answers
    auto_create_role_generators.py    # Create one generator script per role
    gen_*.py                          # Generated role-specific scripts
    validate_json.py                  # JSON/JSONL schema validator

  /templates/
    idea_form.html                    # Idea input page
    qna_form.html                     # Questions/answers page

  /tests/
    TESTPLAN.md

  /docs/
    ... (optional extra docs)
```

---

## Optional: CLI bootstrap (legacy)

You can ignore this if you’re using the UI.

There is still a CLI-based bootstrap script:

```bat
python scriptsootstrap_team_and_questions.py --idea idea.txt
```

You’d only use this if you prefer to maintain `idea.txt` manually and skip the UI.
The primary, recommended flow is **UI-only** as described above.

---

## Next steps

From here you can:

- Customize the generator template in `scripts/auto_create_role_generators.py` to produce:
  - Backend API specs
  - Frontend UI scaffolds
  - Marketing plans
  - Data pipelines, etc.
- Add validation or testing steps that run after each generator script.

But critically: your **only interaction** with “idea” and “intake questions” is through the **Flask web app**, not the command line.
