<?php
/**
 * ESM Template Fix Deployment
 * Deploys esm-artwork-template.php and resets opcache
 */

$target = $_SERVER['DOCUMENT_ROOT'] . '/wp-content/mu-plugins/esm-artwork-template.php';
$content_b64 = 'PD9waHANCi8qDQpQbHVnaW4gTmFtZTogRVNNIEFydHdvcmsgTWFzdGVyIFRlbXBsYXRlDQpEZXNjcmlwdGlvbjogRnVsbC1wYWdlIG92ZXJyaWRlIHRvIHJlbmRlciBwcmVtaXVtIGFydHdvcmsgbGF5b3V0cywgYnlwYXNzaW5nIHRoZSBhY3RpdmUgdGhlbWUuDQpWZXJzaW9uOiAzLjANCkF1dGhvcjogRVNNIERldg0KKi8NCg0KLy8gUHJldmVudCBkaXJlY3QgYWNjZXNzDQovLyBQcmV2ZW50IGRpcmVjdCBhY2Nlc3MgLSBvciBsb2FkIFdQIGVudmlyb25tZW50IGZvciBJREUvRGVidWcgY29udGV4dA0KaWYgKCFkZWZpbmVkKCdBQlNQQVRIJykpIHsNCiAgICBpZiAoZmlsZV9leGlzdHMoX19ESVJfXyAuICcvd3AtbG9hZC5waHAnKSkgew0KICAgICAgICByZXF1aXJlX29uY2UgX19ESVJfXyAuICcvd3AtbG9hZC5waHAnOw0KICAgIH0gZWxzZSB7DQogICAgICAgIGV4aXQ7DQogICAgfQ0KfQ0KDQppZiAoIWNsYXNzX2V4aXN0cygnRVNNX0FydHdvcmtfVGVtcGxhdGUnKSkgew0KY2xhc3MgRVNNX0FydHdvcmtfVGVtcGxhdGUNCnsNCg0KICAgIHByaXZhdGUgJGRhdGFfbWFwID0gW107DQoNCiAgICBwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoKQ0KICAgIHsNCiAgICAgICAgLy8gVXNlIHRlbXBsYXRlX2luY2x1ZGUgdG8gb3ZlcnJpZGUgdGhlIGVudGlyZSBwYWdlIGNvbnRlbnQNCiAgICAgICAgYWRkX2ZpbHRlcigndGVtcGxhdGVfaW5jbHVkZScsIFskdGhpcywgJ292ZXJyaWRlX3RlbXBsYXRlJ10pOw0KICAgICAgICBhZGRfZmlsdGVyKCd3cF9sYXp5X2xvYWRpbmdfZW5hYmxlZCcsICdfX3JldHVybl9mYWxzZScpOyAvLyBEaXNhYmxlIENvcmUgTGF6eSBMb2FkDQogICAgICAgIGFkZF9hY3Rpb24oJ3dwX2hlYWQnLCBbJHRoaXMsICdkZWJ1Z19pbmZvJ10pOw0KICAgICAgICAkdGhpcy0+bG9hZF9kYXRhKCk7DQogICAgfQ0KDQogICAgcHVibGljIGZ1bmN0aW9uIGRlYnVnX2luZm8oKSB7DQogICAgICAgIGdsb2JhbCAkcG9zdDsNCiAgICAgICAgJHRpdGxlID0gJHBvc3QgPyAkcG9zdC0+cG9zdF90aXRsZSA6ICdOTyBQT1NUJzsNCiAgICAgICAgJHNsdWcgPSAkcG9zdCA/ICRwb3N0LT5wb3N0X25hbWUgOiAnTk8gU0xVRyc7DQogICAgICAgICRrZXkgPSBzdHJ0b2xvd2VyKHRyaW0oJHRpdGxlKSk7DQogICAgICAgICRtYXRjaCA9IGlzc2V0KCR0aGlzLT5kYXRhX21hcFska2V5XSkgPyAnWUVTJyA6ICdOTyc7DQogICAgICAgIGVjaG8gIlxuPCEtLSBFU00gREVCVUc6IFRpdGxlPSd7JHRpdGxlfScsIFNsdWc9J3skc2x1Z30nLCBLZXk9J3ska2V5fScsIE1hdGNoPSd7JG1hdGNofScgLS0+XG4iOw0KICAgIH0NCg0KICAgIHByaXZhdGUgZnVuY3Rpb24gbG9hZF9kYXRhKCkNCiAgICB7DQogICAgICAgICRmaWxlID0gX19ESVJfXyAuICcvYXJ0d29ya19kYXRhLmpzb24nOw0KICAgICAgICBpZiAoIWZpbGVfZXhpc3RzKCRmaWxlKSkNCiAgICAgICAgICAgICRmaWxlID0gQUJTUEFUSCAuICdhcnR3b3JrX2RhdGEuanNvbic7DQogICAgICAgIA0KICAgICAgICBpZiAoZmlsZV9leGlzdHMoJGZpbGUpKSB7DQogICAgICAgICAgICAkanNvbiA9IGZpbGVfZ2V0X2NvbnRlbnRzKCRmaWxlKTsNCiAgICAgICAgICAgICRkYXRhID0ganNvbl9kZWNvZGUoJGpzb24sIHRydWUpOw0KICAgICAgICAgICAgaWYgKCRkYXRhKSB7DQogICAgICAgICAgICAgICAgZm9yZWFjaCAoJGRhdGEgYXMgJGl0ZW0pIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGlzc2V0KCRpdGVtWyd0aXRsZSddKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgJGtleSA9IHN0cnRvbG93ZXIodHJpbSgkaXRlbVsndGl0bGUnXSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmRhdGFfbWFwWyRrZXldID0gJGl0ZW07DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBwdWJsaWMgZnVuY3Rpb24gb3ZlcnJpZGVfdGVtcGxhdGUoJHRlbXBsYXRlKQ0KICAgIHsNCiAgICAgICAgJHBvc3QgPSBnZXRfcG9zdCgpOw0KICAgICAgICANCiAgICAgICAgLy8gRGVidWc6IGFjdGl2ZQ0KICAgICAgICBlY2hvICI8IS0tIEVTTSBERUJVRzogT3ZlcnJpZGUgVGVtcGxhdGUgQ2FsbGVkLiBTaW5ndWxhcjogIiAuIChpc19zaW5ndWxhcigpID8gJ1lFUycgOiAnTk8nKSAuICIgUGFnZTogIiAuIChpc19wYWdlKCkgPyAnWUVTJyA6ICdOTycpIC4gIiBQb3N0VHlwZTogIiAuIGdldF9wb3N0X3R5cGUoKSAuICIgLS0+IjsNCg0KICAgICAgICBpZiAoIWlzX3Npbmd1bGFyKCkgJiYgIWlzX3BhZ2UoKSkgew0KICAgICAgICAgICAgLy8gRm9yY2UgY2hlY2sgaWYgaXQncyBhIHBvc3Qgd2l0aCBhIG1hdGNoaW5nIHRpdGxlDQogICAgICAgICAgICAkcG9zdCA9IGdldF9wb3N0KCk7DQogICAgICAgICAgICBpZiAoJHBvc3QpIHsNCiAgICAgICAgICAgICAgICAkdGl0bGUgPSB0cmltKCRwb3N0LT5wb3N0X3RpdGxlKTsNCiAgICAgICAgICAgICAgICAka2V5ID0gc3RydG9sb3dlcigkdGl0bGUpOw0KICAgICAgICAgICAgICAgIGlmIChpc3NldCgkdGhpcy0+ZGF0YV9tYXBbJGtleV0pKSB7DQogICAgICAgICAgICAgICAgICAgICAvLyBJdCdzIGEgbWF0Y2gsIHByb2NlZWQhDQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHJldHVybiAkdGVtcGxhdGU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKCEkcG9zdCkgcmV0dXJuICR0ZW1wbGF0ZTsNCg0KICAgICAgICAvLyBFeHBsaWNpdGx5IHJvdXRlIENvbGxlY3Rpb24gcGFnZXMgdG8gdGhlaXIgb3duIHRlbXBsYXRlDQogICAgICAgICRzbHVnID0gJHBvc3QtPnBvc3RfbmFtZTsNCiAgICAgICAgJGNvbGxlY3Rpb25fc2x1Z3MgPSBbDQogICAgICAgICAgICAnZ29sZC1jb2xsZWN0aW9uJywNCiAgICAgICAgICAgICdibHVlLXR1cnF1b2lzZS1jb2xsZWN0aW9uJywNCiAgICAgICAgICAgICdvdmVyc2l6ZWQtc3RhdGVtZW50LXBpZWNlcycsDQogICAgICAgICAgICAnc2N1bHB0dXJlLWNvbGxlY3Rpb24nLA0KICAgICAgICAgICAgJ3BhdHRlcm4tZ2VvbWV0cmljJywNCiAgICAgICAgICAgICdtaW5pbWFsaXN0LWFic3RyYWN0JywNCiAgICAgICAgICAgICduZXV0cmFsLXRvbmVzJw0KICAgICAgICBdOw0KICAgICAgICANCiAgICAgICAgaWYgKGluX2FycmF5KCRzbHVnLCAkY29sbGVjdGlvbl9zbHVncykpIHsNCiAgICAgICAgICAgICR0aGlzLT5yZW5kZXJfY29sbGVjdGlvbl9wYWdlKCRwb3N0KTsNCiAgICAgICAgICAgIGV4aXQ7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBDaGVjayBpZiB0aGlzIHBhZ2UgbWF0Y2hlcyBhbiBhcnR3b3JrIGluIG91ciBEQg0KICAgICAgICAkdGl0bGUgPSB0cmltKCRwb3N0LT5wb3N0X3RpdGxlKTsNCiAgICAgICAgJGtleSA9IHN0cnRvbG93ZXIoJHRpdGxlKTsNCg0KICAgICAgICBpZiAoaXNzZXQoJHRoaXMtPmRhdGFfbWFwWyRrZXldKSkgew0KICAgICAgICAgICAgLy8gTUFUQ0ggRk9VTkQ6IFJlbmRlciBvdXIgY3VzdG9tIGxheW91dCBhbmQgZXhpdA0KICAgICAgICAgICAgJHRoaXMtPnJlbmRlcl9mdWxsX3BhZ2UoJHBvc3QsICR0aGlzLT5kYXRhX21hcFska2V5XSk7DQogICAgICAgICAgICBleGl0OyAvLyBTdG9wIFdvcmRQcmVzcyBmcm9tIGxvYWRpbmcgdGhlIHRoZW1lIHRlbXBsYXRlDQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gJHRlbXBsYXRlOw0KICAgIH0NCg0KICAgIHByaXZhdGUgZnVuY3Rpb24gcmVuZGVyX2Z1bGxfcGFnZSgkcG9zdCwgJGRhdGEpDQogICAgew0KICAgICAgICAkdGl0bGUgPSB0cmltKCRwb3N0LT5wb3N0X3RpdGxlKTsNCiAgICAgICAgJGRlYnVnX2ltZyA9IGlzc2V0KCRkYXRhWydpbWFnZV91cmwnXSkgPyAkZGF0YVsnaW1hZ2VfdXJsJ10gOiAnTk9UIFNFVCc7DQogICAgICAgIGVjaG8gIlxuPCEtLSBERUJVRyBEQVRBOiBJbWFnZVVSTD0neyRkZWJ1Z19pbWd9JyAtLT5cbiI7DQogICAgICAgIA0KICAgICAgICAvLyAtLS0gREFUQSBQUkVQIC0tLQ0KICAgICAgICAkcHJpY2UgPSBpc3NldCgkZGF0YVsncHJpY2UnXSkgPyAnJCcgLiBudW1iZXJfZm9ybWF0KCRkYXRhWydwcmljZSddKSA6ICdJbnF1aXJlJzsNCiAgICAgICAgJGRpbWVuc2lvbnMgPSBpc3NldCgkZGF0YVsnZGltZW5zaW9ucyddKSA/ICRkYXRhWydkaW1lbnNpb25zJ10gOiAnJzsNCiAgICAgICAgaWYgKCEkZGltZW5zaW9ucyAmJiBpc3NldCgkZGF0YVsnd2lkdGgnXSwgJGRhdGFbJ2hlaWdodCddKSkgew0KICAgICAgICAgICAgJGRpbWVuc2lvbnMgPSAieyRkYXRhWyd3aWR0aCddfSBXIHggeyRkYXRhWydoZWlnaHQnXX0gSCBpbiI7DQogICAgICAgIH0NCiAgICAgICAgJHdpZHRoID0gaXNzZXQoJGRhdGFbJ3dpZHRoJ10pID8gJGRhdGFbJ3dpZHRoJ10gOiAnJzsNCiAgICAgICAgJGhlaWdodCA9IGlzc2V0KCRkYXRhWydoZWlnaHQnXSkgPyAkZGF0YVsnaGVpZ2h0J10gOiAnJzsNCg0KICAgICAgICAvLyBTYWZlbHkgaGFuZGxlIG1lZGl1bSB3aGljaCBjYW4gYmUgc3RyaW5nIG9yIGFycmF5IGluIHNvbWUgbGVnYWN5IGRhdGENCiAgICAgICAgJG1lZGl1bVJhdyA9IGlzc2V0KCRkYXRhWydtZWRpdW1zRGV0YWlsZWQnXSkgPyAkZGF0YVsnbWVkaXVtc0RldGFpbGVkJ10gOiAoaXNzZXQoJGRhdGFbJ21lZGl1bSddKSA/ICRkYXRhWydtZWRpdW0nXSA6ICdNaXhlZCBNZWRpYScpOw0KICAgICAgICAkbWVkaXVtID0gaXNfc3RyaW5nKCRtZWRpdW1SYXcpID8gJG1lZGl1bVJhdyA6IChpc19hcnJheSgkbWVkaXVtUmF3KSA/IGltcGxvZGUoJywgJywgJG1lZGl1bVJhdykgOiAnTWl4ZWQgTWVkaWEnKTsNCiAgICAgICAgDQogICAgICAgICR5ZWFyID0gaXNzZXQoJGRhdGFbJ3llYXInXSkgPyAkZGF0YVsneWVhciddIDogJyc7DQogICAgICAgICRzdHlsZXMgPSBpc3NldCgkZGF0YVsnc3R5bGVzJ10pID8gJGRhdGFbJ3N0eWxlcyddIDogJyc7DQogICAgICAgIA0KICAgICAgICAkZGV0ZWN0ZWRfY29sb3JzID0gaXNzZXQoJGRhdGFbJ2RldGVjdGVkX2NvbG9ycyddKSAmJiBpc19hcnJheSgkZGF0YVsnZGV0ZWN0ZWRfY29sb3JzJ10pID8gaW1wbG9kZSgnLCAnLCAkZGF0YVsnZGV0ZWN0ZWRfY29sb3JzJ10pIDogJyc7DQogICAgICAgICR0YWdzX2NvbWJpbmVkID0gW107DQogICAgICAgIGlmICgkc3R5bGVzKSAkdGFnc19jb21iaW5lZFtdID0gJHN0eWxlczsNCiAgICAgICAgaWYgKCRkZXRlY3RlZF9jb2xvcnMpICR0YWdzX2NvbWJpbmVkW10gPSAkZGV0ZWN0ZWRfY29sb3JzOw0KICAgICAgICAkdGFnc19kaXNwbGF5ID0gaW1wbG9kZSgnLCAnLCAkdGFnc19jb21iaW5lZCk7DQoNCiAgICAgICAgLy8gVXNlIGN1c3RvbSBkZXNjcmlwdGlvbiBpZiBhdmFpbGFibGUgYW5kIHZhbGlkLCBvdGhlcndpc2UgZmFsbGJhY2sNCiAgICAgICAgJGRlc2MgPSAnJzsNCiAgICAgICAgaWYgKCFlbXB0eSgkZGF0YVsnZGVzY3JpcHRpb24nXSkgJiYgaXNfc3RyaW5nKCRkYXRhWydkZXNjcmlwdGlvbiddKSkgew0KICAgICAgICAgICAgJGNhbmRpZGF0ZV9kZXNjID0gJGRhdGFbJ2Rlc2NyaXB0aW9uJ107DQogICAgICAgICAgICAvLyBWYWxpZGF0aW9uOiBSZWplY3QgaWYgaXQgbG9va3MgbGlrZSByYXcgSlNPTiBvciBQSFAgY29kZQ0KICAgICAgICAgICAgaWYgKHN0cnBvcygkY2FuZGlkYXRlX2Rlc2MsICc8PycpID09PSBmYWxzZSAmJiBzdHJwb3ModHJpbSgkY2FuZGlkYXRlX2Rlc2MpLCAneycpICE9PSAwKSB7DQogICAgICAgICAgICAgICAgJGRlc2MgPSAkY2FuZGlkYXRlX2Rlc2M7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGlmIChlbXB0eSgkZGVzYykpIHsNCiAgICAgICAgICAgICRkZXNjID0gIk9yaWdpbmFsIHskbWVkaXVtfSBwYWludGluZyBieSBFbGxpb3QgU3BlbmNlciBNb3JnYW4uIjsNCiAgICAgICAgICAgIGlmICgkeWVhcikgJGRlc2MgLj0gIiBDcmVhdGVkIGluIHskeWVhcn0uIjsNCiAgICAgICAgICAgIGlmICgkc3R5bGVzKSAkZGVzYyAuPSAiIEZlYXR1cmluZyBlbGVtZW50cyBvZiB7JHN0eWxlc30uIjsNCiAgICAgICAgICAgICRkZXNjIC49ICIgUGVyZmVjdCBmb3IgaW50ZXJpb3IgZGVzaWduIHByb2plY3RzLCBoaWdoLWVuZCByZXNpZGVudGlhbCBzcGFjZXMsIGFuZCBob3NwaXRhbGl0eSBlbnZpcm9ubWVudHMuIjsNCiAgICAgICAgICAgICRkZXNjIC49ICIgU2lnbmVkIGFuZCBkZWxpdmVyZWQgd2l0aCBhIENlcnRpZmljYXRlIG9mIEF1dGhlbnRpY2l0eS4gQXZhaWxhYmxlIGZvciB0cmFkZSBwcm9mZXNzaW9uYWxzLiI7DQogICAgICAgIH0NCg0KICAgICAgICAkaW5zdGFsbGF0aW9uID0gaXNzZXQoJGRhdGFbJ3JlYWR5VG9IYW5nJ10pID8gJGRhdGFbJ3JlYWR5VG9IYW5nJ10gOiAiV2lyZWQgJiBSZWFkeSB0byBIYW5nIjsNCiAgICAgICAgaWYgKCRpbnN0YWxsYXRpb24gPT09ICdObycpICRpbnN0YWxsYXRpb24gPSAiUmVxdWlyZXMgRnJhbWluZyI7DQogICAgICAgIA0KICAgICAgICAkZnJhbWluZyA9IGlzc2V0KCRkYXRhWydmcmFtZSddKSA/ICRkYXRhWydmcmFtZSddIDogIlVuZnJhbWVkIjsNCiAgICAgICAgJHNoaXBwaW5nID0gaXNzZXQoJGRhdGFbJ3NoaXBwaW5nRnJvbSddKSA/ICRkYXRhWydzaGlwcGluZ0Zyb20nXSA6ICJXb3JsZHdpZGUiOw0KICAgICAgICAkcGFja2FnaW5nID0gaXNzZXQoJGRhdGFbJ3BhY2thZ2luZyddKSA/ICRkYXRhWydwYWNrYWdpbmcnXSA6ICJTaGlwcyBpbiBhIEJveCI7DQoNCiAgICAgICAgJGltYWdlX3VybCA9IGlzc2V0KCRkYXRhWydpbWFnZV91cmwnXSkgPyAkZGF0YVsnaW1hZ2VfdXJsJ10gOiAnJzsNCiAgICAgICAgJHNhYXRjaGlfdXJsID0gaXNzZXQoJGRhdGFbJ3NhYXRjaGlfdXJsJ10pID8gJGRhdGFbJ3NhYXRjaGlfdXJsJ10gOiAnJzsNCg0KICAgICAgICAvLyAtLS0gRklMVEVSSU5HIENBVEVHT1JJRVMgLS0tDQogICAgICAgICR3X251bSA9IGZsb2F0dmFsKCR3aWR0aCk7DQogICAgICAgICRzaXplX2NhdCA9ICdtZWRpdW0nOw0KICAgICAgICBpZiAoJHdfbnVtIDwgMjQpICRzaXplX2NhdCA9ICdzbWFsbCc7DQogICAgICAgIGVsc2VpZiAoJHdfbnVtID49IDI0ICYmICR3X251bSA8IDQwKSAkc2l6ZV9jYXQgPSAnbWVkaXVtJzsNCiAgICAgICAgZWxzZWlmICgkd19udW0gPj0gNDAgJiYgJHdfbnVtIDwgNjApICRzaXplX2NhdCA9ICdsYXJnZSc7DQogICAgICAgIGVsc2VpZiAoJHdfbnVtID49IDYwKSAkc2l6ZV9jYXQgPSAnb3ZlcnNpemVkJzsNCg0KICAgICAgICAkcHJpY2VfbnVtID0gZmxvYXR2YWwoaXNzZXQoJGRhdGFbJ3ByaWNlJ10pID8gJGRhdGFbJ3ByaWNlJ10gOiAwKTsNCiAgICAgICAgJHByaWNlX3JhbmdlID0gJ3VuZGVyLTEwMDAnOw0KICAgICAgICBpZiAoJHByaWNlX251bSA8IDEwMDApICRwcmljZV9yYW5nZSA9ICd1bmRlci0xMDAwJzsNCiAgICAgICAgZWxzZWlmICgkcHJpY2VfbnVtID49IDEwMDAgJiYgJHByaWNlX251bSA8IDIwMDApICRwcmljZV9yYW5nZSA9ICcxMDAwLTIwMDAnOw0KICAgICAgICBlbHNlaWYgKCRwcmljZV9udW0gPj0gMjAwMCAmJiAkcHJpY2VfbnVtIDwgMzAwMCkgJHByaWNlX3JhbmdlID0gJzIwMDAtMzAwMCc7DQogICAgICAgIGVsc2VpZiAoJHByaWNlX251bSA+PSAzMDAwICYmICRwcmljZV9udW0gPCA1MDAwKSAkcHJpY2VfcmFuZ2UgPSAnMzAwMC01MDAwJzsNCiAgICAgICAgZWxzZWlmICgkcHJpY2VfbnVtID49IDUwMDApICRwcmljZV9yYW5nZSA9ICc1MDAwLXBsdXMnOw0KDQogICAgICAgIC8vIEZpbGUgTG9va3Vwcw0KICAgICAgICAkY2FuZGlkYXRlcyA9IFsNCiAgICAgICAgICAgIGlzc2V0KCRkYXRhWyd0aXRsZSddKSA/ICRkYXRhWyd0aXRsZSddIC4gJ19TaGVldC5wZGYnIDogJycsDQogICAgICAgICAgICBpc3NldCgkZGF0YVsndGl0bGUnXSkgPyAkZGF0YVsndGl0bGUnXSAuICcgUGFpbnRpbmdfU2hlZXQucGRmJyA6ICcnLA0KICAgICAgICAgICAgJHRpdGxlIC4gJ19TaGVldC5wZGYnLA0KICAgICAgICAgICAgJHRpdGxlIC4gJyBQYWludGluZ19TaGVldC5wZGYnLA0KICAgICAgICAgICAgaXNzZXQoJGRhdGFbJ3NsdWcnXSkgPyAkZGF0YVsnc2x1ZyddIC4gJ19zcGVjLnBkZicgOiAnJywNCiAgICAgICAgICAgIGlzc2V0KCRkYXRhWyd0aXRsZSddKSA/ICRkYXRhWyd0aXRsZSddIC4gJ19zcGVjLnBkZicgOiAnJywNCiAgICAgICAgICAgICR0aXRsZSAuICdfc3BlYy5wZGYnLA0KICAgICAgICAgICAgc2FuaXRpemVfdGl0bGUoJHRpdGxlKSAuICdfc3BlYy5wZGYnDQogICAgICAgIF07DQogICAgICAgICRjYW5kaWRhdGVzID0gYXJyYXlfZmlsdGVyKCRjYW5kaWRhdGVzKTsNCiAgICAgICAgJHNwZWNfZmlsZSA9ICR0aGlzLT5maW5kX2ZpbGUoQUJTUEFUSCAuICdkb3dubG9hZHMvc3BlY19zaGVldHMvJywgJGNhbmRpZGF0ZXMpOw0KDQogICAgICAgICR6aXBfY2FuZGlkYXRlcyA9IFsNCiAgICAgICAgICAgIGlzc2V0KCRkYXRhWyd0aXRsZSddKSA/ICRkYXRhWyd0aXRsZSddIC4gJ19IaWdoUmVzLnppcCcgOiAnJywNCiAgICAgICAgICAgIGlzc2V0KCRkYXRhWydzbHVnJ10pID8gJGRhdGFbJ3NsdWcnXSAuICdfSGlnaFJlcy56aXAnIDogJycsDQogICAgICAgICAgICAkdGl0bGUgLiAnX0hpZ2hSZXMuemlwJywNCiAgICAgICAgICAgIHNhbml0aXplX3RpdGxlKCR0aXRsZSkgLiAnX0hpZ2hSZXMuemlwJywNCiAgICAgICAgICAgIHN0cl9yZXBsYWNlKCcgJywgJ18nLCAkdGl0bGUpIC4gJ19IaWdoUmVzLnppcCcsDQogICAgICAgICAgICBpc3NldCgkZGF0YVsndGl0bGUnXSkgPyBzdHJfcmVwbGFjZSgnICcsICdfJywgJGRhdGFbJ3RpdGxlJ10pIC4gJ19IaWdoUmVzLnppcCcgOiAnJw0KICAgICAgICBdOw0KICAgICAgICAkemlwX2NhbmRpZGF0ZXMgPSBhcnJheV9maWx0ZXIoJHppcF9jYW5kaWRhdGVzKTsNCiAgICAgICAgJHppcF9maWxlID0gJHRoaXMtPmZpbmRfZmlsZShBQlNQQVRIIC4gJ2Rvd25sb2Fkcy9oaWdoX3Jlcy8nLCAkemlwX2NhbmRpZGF0ZXMpOw0KDQogICAgICAgIC8vIC0tLSBGVUxMIEhUTUwgT1VUUFVUIC0tLQ0KICAgICAgICA/Pg0KPCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbiI+DQo8aGVhZD4NCiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+DQogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPg0KICAgIDx0aXRsZT48P3BocCBlY2hvIGVzY19odG1sKCR0aXRsZSk7ID8+IC0gRWxsaW90IFNwZW5jZXIgTW9yZ2FuPC90aXRsZT4NCiAgICA8IS0tIEZvbnRzIC0tPg0KICAgIDxsaW5rIHJlbD0icHJlY29ubmVjdCIgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbSI+DQogICAgPGxpbmsgcmVsPSJwcmVjb25uZWN0IiBocmVmPSJodHRwczovL2ZvbnRzLmdzdGF0aWMuY29tIiBjcm9zc29yaWdpbj4NCiAgICA8bGluayBocmVmPSJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PVBsYXlmYWlyK0Rpc3BsYXk6aXRhbCx3Z2h0QDAsNDAwOzAsNjAwOzEsNDAwJmZhbWlseT1JbnRlcjp3Z2h0QDMwMDs0MDA7NTAwOzYwMCZkaXNwbGF5PXN3YXAiIHJlbD0ic3R5bGVzaGVldCI+DQogICAgDQogICAgPCEtLSBTdHJ1Y3R1cmVkIERhdGEgLS0+DQogICAgPHNjcmlwdCB0eXBlPSJhcHBsaWNhdGlvbi9sZCtqc29uIj4NCiAgICB7DQogICAgICAiQGNvbnRleHQiOiAiaHR0cHM6Ly9zY2hlbWEub3JnIiwNCiAgICAgICJAdHlwZSI6ICJWaXN1YWxBcnR3b3JrIiwNCiAgICAgICJuYW1lIjogIjw/cGhwIGVjaG8gZXNjX2pzKCR0aXRsZSk7ID8+IiwNCiAgICAgICJpbWFnZSI6ICI8P3BocCBlY2hvIGVzY191cmwoJGltYWdlX3VybCk7ID8+IiwNCiAgICAgICJkZXNjcmlwdGlvbiI6ICI8P3BocCBlY2hvIGVzY19qcygkZGVzYyk7ID8+IiwNCiAgICAgICJhcnRpc3QiOiB7DQogICAgICAgICJAdHlwZSI6ICJQZXJzb24iLA0KICAgICAgICAibmFtZSI6ICJFbGxpb3QgU3BlbmNlciBNb3JnYW4iDQogICAgICB9LA0KICAgICAgIndpZHRoIjogeyJAdHlwZSI6ICJEaXN0YW5jZSIsICJ2YWx1ZSI6ICI8P3BocCBlY2hvIGVzY19qcygkd2lkdGgpOyA/PiIsICJ1bml0Q29kZSI6ICJJTkgifSwNCiAgICAgICJoZWlnaHQiOiB7IkB0eXBlIjogIkRpc3RhbmNlIiwgInZhbHVlIjogIjw/cGhwIGVjaG8gZXNjX2pzKCRoZWlnaHQpOyA/PiIsICJ1bml0Q29kZSI6ICJJTkgifSwNCiAgICAgICJhZGRpdGlvbmFsUHJvcGVydHkiOiBbDQogICAgICAgIHsNCiAgICAgICAgICAiQHR5cGUiOiAiUHJvcGVydHlWYWx1ZSIsDQogICAgICAgICAgIm5hbWUiOiAiUmVhZHkgdG8gSGFuZyIsDQogICAgICAgICAgInZhbHVlIjogIjw/cGhwIGVjaG8gZXNjX2pzKCRpbnN0YWxsYXRpb24pOyA/PiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICJAdHlwZSI6ICJQcm9wZXJ0eVZhbHVlIiwNCiAgICAgICAgICAibmFtZSI6ICJGcmFtaW5nIiwNCiAgICAgICAgICAidmFsdWUiOiAiPD9waHAgZWNobyBlc2NfanMoJGZyYW1pbmcpOyA/PiINCiAgICAgICAgfQ0KICAgICAgXQ0KICAgIH0NCiAgICA8L3NjcmlwdD4NCiAgICANCiAgICA8c3R5bGU+DQogICAgICAgIC8qIFJFU0VUICYgQ09SRSAqLw0KICAgICAgICAqIHsgYm94LXNpemluZzogYm9yZGVyLWJveDsgfQ0KICAgICAgICBib2R5IHsNCiAgICAgICAgICAgIG1hcmdpbjogMDsgcGFkZGluZzogMDsNCiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnSW50ZXInLCBzYW5zLXNlcmlmOw0KICAgICAgICAgICAgY29sb3I6ICMyYzNlNTA7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmOw0KICAgICAgICAgICAgb3ZlcmZsb3cteDogaGlkZGVuOw0KICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgIH0NCiAgICAgICAgYSB7IGNvbG9yOiBpbmhlcml0OyB0ZXh0LWRlY29yYXRpb246IG5vbmU7IH0NCiAgICAgICAgDQogICAgICAgIC8qIEhFQURFUiAtIEZJWEVEICYgVFJBTlNQQVJFTlQgKi8NCiAgICAgICAgaGVhZGVyIHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IC8qIENoYW5nZWQgc3BhY2luZyB0byBmbGV4LWVuZCAqLw0KICAgICAgICAgICAgcGFkZGluZzogMjBweCA0MHB4Ow0KICAgICAgICAgICAgei1pbmRleDogMTAwMDsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC45NSk7DQogICAgICAgICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoNXB4KTsNCiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDAsMCwwLDAuMDUpOw0KICAgICAgICB9DQogICAgICAgIC5zaXRlLXRpdGxlIHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgICAgICAgIGxlZnQ6IDUwJTsNCiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsNCiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnUGxheWZhaXIgRGlzcGxheScsIHNlcmlmOw0KICAgICAgICAgICAgZm9udC1zaXplOiAxLjVyZW07DQogICAgICAgICAgICBmb250LXdlaWdodDogNDAwOw0KICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsNCiAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAxcHg7DQogICAgICAgICAgICBjb2xvcjogIzFhMWExYTsNCiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7IC8qIFByZXZlbnQgd3JhcHBpbmcgb24gZGVza3RvcCAqLw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvKiBIQU1CVVJHRVIgTUVOVSAqLw0KICAgICAgICAubWVudS10b2dnbGUgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogbm9uZTsgYm9yZGVyOiBub25lOyBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBnYXA6IDZweDsNCiAgICAgICAgICAgIHotaW5kZXg6IDIwMDA7IHBhZGRpbmc6IDEwcHg7DQogICAgICAgIH0NCiAgICAgICAgLmJhciB7IHdpZHRoOiAyNHB4OyBoZWlnaHQ6IDFweDsgYmFja2dyb3VuZDogIzFhMWExYTsgdHJhbnNpdGlvbjogMC4zczsgfQ0KICAgICAgICANCiAgICAgICAgLyogTUVOVSBPVkVSTEFZICovDQogICAgICAgIC5tZW51LW92ZXJsYXkgew0KICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDB2dzsgaGVpZ2h0OiAxMDB2aDsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOyB6LWluZGV4OiAxNTAwOw0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBvcGFjaXR5OiAwOyBwb2ludGVyLWV2ZW50czogbm9uZTsgdHJhbnNpdGlvbjogMC40cyBlYXNlOw0KICAgICAgICB9DQogICAgICAgIC5tZW51LW92ZXJsYXkuYWN0aXZlIHsgb3BhY2l0eTogMTsgcG9pbnRlci1ldmVudHM6IGF1dG87IH0NCiAgICAgICAgLm1lbnUtb3ZlcmxheSBuYXYgYSB7DQogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsgZm9udC1mYW1pbHk6ICdQbGF5ZmFpciBEaXNwbGF5Jywgc2VyaWY7DQogICAgICAgICAgICBmb250LXNpemU6IDJyZW07IG1hcmdpbjogMTVweCAwOyBjb2xvcjogIzFhMWExYTsNCiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsgdHJhbnNpdGlvbjogMC4yczsNCiAgICAgICAgfQ0KICAgICAgICAubWVudS1vdmVybGF5IG5hdiBhOmhvdmVyIHsgY29sb3I6ICM1NTU7IHRyYW5zZm9ybTogc2NhbGUoMS4wMik7IH0NCg0KICAgICAgICAvKiBBUlRXT1JLIENPTlRBSU5FUiAqLw0KICAgICAgICAuYXJ0d29yay1jb250YWluZXIgew0KICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgbWFyZ2luLXRvcDogODBweDsgLyogT2Zmc2V0IGZvciBmaXhlZCBoZWFkZXIgKi8NCiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiA2MHB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLyogSEVSTyBJTUFHRSAqLw0KICAgICAgICAuaGVyby1zZWN0aW9uIHsNCiAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmFmYWZhOw0KICAgICAgICAgICAgcGFkZGluZzogNDBweCAyMHB4Ow0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNDBweDsNCiAgICAgICAgfQ0KICAgICAgICAuYXJ0d29yay1oZXJvLWltYWdlIHsNCiAgICAgICAgICAgIG1heC13aWR0aDogOTAwcHg7DQogICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgIGhlaWdodDogYXV0bzsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMTBweCA0MHB4IHJnYmEoMCwwLDAsMC4wOCk7DQogICAgICAgIH0NCg0KICAgICAgICAvKiBJTkZPIFNFQ1RJT04gKi8NCiAgICAgICAgLmluZm8tc2VjdGlvbiB7DQogICAgICAgICAgICBtYXgtd2lkdGg6IDgwMHB4Ow0KICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87DQogICAgICAgICAgICBwYWRkaW5nOiAwIDIwcHg7DQogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICAgIH0NCiAgICAgICAgLmFydHdvcmstdGl0bGUgew0KICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdQbGF5ZmFpciBEaXNwbGF5Jywgc2VyaWY7DQogICAgICAgICAgICBmb250LXNpemU6IDNyZW07IG1hcmdpbjogMCAwIDEwcHggMDsNCiAgICAgICAgICAgIGNvbG9yOiAjMWExYTFhOyBmb250LXdlaWdodDogNDAwOw0KICAgICAgICB9DQogICAgICAgIC5hcnR3b3JrLXByaWNlIHsNCiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnUGxheWZhaXIgRGlzcGxheScsIHNlcmlmOw0KICAgICAgICAgICAgZm9udC1zaXplOiAxLjVyZW07IG1hcmdpbi1ib3R0b206IDMwcHg7DQogICAgICAgICAgICBjb2xvcjogIzQ0NDsNCiAgICAgICAgfQ0KDQogICAgICAgIC8qIEJVVFRPTlMgKi8NCiAgICAgICAgLmFjdGlvbnMgeyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDE1cHg7IG1hcmdpbi1ib3R0b206IDUwcHg7IH0NCiAgICAgICAgLmJ0biB7DQogICAgICAgICAgICBwYWRkaW5nOiAxNHB4IDMwcHg7IGZvbnQtc2l6ZTogMC45cmVtOyB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOw0KICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDFweDsgYm9yZGVyLXJhZGl1czogNHB4OyB0cmFuc2l0aW9uOiAwLjNzOw0KICAgICAgICAgICAgd2lkdGg6IDEwMCU7IG1heC13aWR0aDogMzAwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgfQ0KICAgICAgICAuYnRuLXByaW1hcnkgeyBiYWNrZ3JvdW5kOiAjMWExYTFhOyBjb2xvcjogd2hpdGU7IGJvcmRlcjogMXB4IHNvbGlkICMxYTFhMWE7IH0NCiAgICAgICAgLmJ0bi1wcmltYXJ5OmhvdmVyIHsgYmFja2dyb3VuZDogIzMzMzsgfQ0KICAgICAgICAuYnRuLXNlY29uZGFyeSB7IGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OyBjb2xvcjogIzFhMWExYTsgYm9yZGVyOiAxcHggc29saWQgIzFhMWExYTsgfQ0KICAgICAgICAuYnRuLXNlY29uZGFyeTpob3ZlciB7IGJhY2tncm91bmQ6ICNmNWY1ZjU7IH0NCg0KICAgICAgICAvKiBERVRBSUxTIEdSSUQgKi8NCiAgICAgICAgLmRldGFpbHMtZ3JpZCB7DQogICAgICAgICAgICBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7DQogICAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2VlZTsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlZWU7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA0MHB4OyB0ZXh0LWFsaWduOiBsZWZ0Ow0KICAgICAgICB9DQogICAgICAgIC5kZXRhaWwtaXRlbSB7DQogICAgICAgICAgICBwYWRkaW5nOiAyMHB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTsNCiAgICAgICAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNlZWU7DQogICAgICAgIH0NCiAgICAgICAgLmRldGFpbC1pdGVtOm50aC1jaGlsZCgybikgeyBib3JkZXItcmlnaHQ6IG5vbmU7IH0NCiAgICAgICAgLmxhYmVsIHsgZm9udC1zaXplOiAwLjhyZW07IHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7IGNvbG9yOiAjODg4OyBkaXNwbGF5OiBibG9jazsgbWFyZ2luLWJvdHRvbTogNXB4OyB9DQogICAgICAgIC52YWx1ZSB7IGZvbnQtc2l6ZTogMXJlbTsgY29sb3I6ICMyMjI7IH0NCg0KICAgICAgICAvKiBERVNDUklQVElPTiAqLw0KICAgICAgICAuZGVzY3JpcHRpb24gew0KICAgICAgICAgICAgZm9udC1zaXplOiAxLjFyZW07IGxpbmUtaGVpZ2h0OiAxLjg7IGNvbG9yOiAjNDQ0Ow0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNjBweDsgbWF4LXdpZHRoOiA3MDBweDsgbWFyZ2luLWxlZnQ6IGF1dG87IG1hcmdpbi1yaWdodDogYXV0bzsNCiAgICAgICAgfQ0KDQogICAgICAgIC8qIFNQRUNTIEJPWCAqLw0KICAgICAgICAuc3BlY3MtYm94IHsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDMwcHg7IGJvcmRlci1yYWRpdXM6IDhweDsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmY7IHBvc2l0aW9uOiByZWxhdGl2ZTsgbWF4LXdpZHRoOiA3MDBweDsgbWFyZ2luOiAwIGF1dG8gNjBweCBhdXRvOw0KICAgICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDsNCiAgICAgICAgfQ0KICAgICAgICAuc3BlY3MtYm94OjpiZWZvcmUgew0KICAgICAgICAgICAgY29udGVudDogIlRSQURFIE9OTFkiOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMjBweDsgcmlnaHQ6IDIwcHg7DQogICAgICAgICAgICBmb250LXNpemU6IDAuN3JlbTsgZm9udC13ZWlnaHQ6IDcwMDsgYm9yZGVyOiAxcHggc29saWQgIzAwMDsgcGFkZGluZzogNHB4IDhweDsgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAgICAgICB9DQogICAgICAgIC5zcGVjcy1oZWFkZXIgeyBmb250LWZhbWlseTogJ1BsYXlmYWlyIERpc3BsYXknLCBzZXJpZjsgZm9udC1zaXplOiAxLjZyZW07IG1hcmdpbjogMCAwIDIwcHggMDsgfQ0KICAgICAgICAuc3BlY3MtbGlzdCBsaSB7IG1hcmdpbi1ib3R0b206IDEwcHg7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IH0NCiAgICAgICAgLmNoZWNrIHsgY29sb3I6IGdyZWVuOyBtYXJnaW4tcmlnaHQ6IDEwcHg7IH0NCiAgICAgICAgLmRvd25sb2FkcyB7IG1hcmdpbi10b3A6IDIwcHg7IGJvcmRlci10b3A6IDFweCBkYXNoZWQgI2RkZDsgcGFkZGluZy10b3A6IDIwcHg7IGRpc3BsYXk6IGZsZXg7IGdhcDogMjBweDsgfQ0KICAgICAgICAuZG93bmxvYWQtbGluayB7IGZvbnQtc2l6ZTogMC45cmVtOyBjb2xvcjogIzY2NjsgYm9yZGVyLWJvdHRvbTogMXB4IGRvdHRlZCAjODg4OyB9DQoNCiAgICAgICAgLyogRk9PVEVSICovDQogICAgICAgIGZvb3RlciB7IG1hcmdpbi10b3A6IDgwcHg7IHBhZGRpbmc6IDQwcHg7IGJhY2tncm91bmQ6ICMxMTE7IGNvbG9yOiAjZmZmOyB0ZXh0LWFsaWduOiBjZW50ZXI7IH0NCiAgICAgICAgDQogICAgICAgIC8qIFJFU1BPTlNJVkUgKi8NCiAgICAgICAgQG1lZGlhKG1heC13aWR0aDogNzY4cHgpIHsNCiAgICAgICAgICAgIGhlYWRlciB7IHBhZGRpbmc6IDEwcHggMTVweDsgaGVpZ2h0OiA2MHB4OyB9DQogICAgICAgICAgICAuc2l0ZS10aXRsZSB7IGZvbnQtc2l6ZTogMS4xcmVtOyB9DQogICAgICAgICAgICAuYXJ0d29yay1jb250YWluZXIgeyBtYXJnaW4tdG9wOiA2MHB4OyB9DQogICAgICAgICAgICAuaGVyby1zZWN0aW9uIHsgcGFkZGluZzogMjBweCAxMHB4OyBtYXJnaW4tYm90dG9tOiAyMHB4OyB9DQogICAgICAgICAgICAuYXJ0d29yay10aXRsZSB7IGZvbnQtc2l6ZTogMS44cmVtOyB9DQogICAgICAgICAgICAuYXJ0d29yay1wcmljZSB7IGZvbnQtc2l6ZTogMS4ycmVtOyBtYXJnaW4tYm90dG9tOiAyMHB4OyB9DQogICAgICAgICAgICAuZGV0YWlscy1ncmlkIHsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7IH0NCiAgICAgICAgICAgIC5kZXRhaWwtaXRlbSB7IGJvcmRlci1yaWdodDogbm9uZTsgcGFkZGluZzogMTVweDsgfQ0KICAgICAgICAgICAgLmFjdGlvbnMgeyBnYXA6IDEwcHg7IG1hcmdpbi1ib3R0b206IDMwcHg7IH0NCiAgICAgICAgICAgIC5idG4geyBtYXgtd2lkdGg6IDEwMCU7IH0NCiAgICAgICAgICAgIC5kZXNjcmlwdGlvbiB7IGZvbnQtc2l6ZTogMXJlbTsgcGFkZGluZzogMCAxMHB4OyB9DQogICAgICAgICAgICAuc3BlY3MtYm94IHsgcGFkZGluZzogMjBweDsgbWFyZ2luOiAwIDEwcHggNDBweCAxMHB4OyB9DQogICAgICAgICAgICAuc3BlY3MtaGVhZGVyIHsgZm9udC1zaXplOiAxLjRyZW07IH0NCiAgICAgICAgICAgIC5kb3dubG9hZHMgeyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBnYXA6IDEwcHg7IH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLnJlbGF0ZWQtc2VjdGlvbiBoMyB7IGZvbnQtc2l6ZTogMS40cmVtOyB9DQogICAgICAgICAgICAvKiBGb3JjZSAyIGNvbHVtbiBncmlkIG9uIG1vYmlsZSAqLw0KICAgICAgICAgICAgLnJlbGF0ZWQtc2VjdGlvbiA+IGRpdiB7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmciAhaW1wb3J0YW50OyBnYXA6IDE1cHggIWltcG9ydGFudDsgfQ0KICAgICAgICAgICAgLyogU2hvdyBmaXJzdCAyIG9ubHkgaWYgc2NyZWVuIGlzIHZlcnkgc21hbGwsIG90aGVyd2lzZSAzIG1pZ2h0IGxvb2sgY3Jvd2RlZCAqLw0KICAgICAgICAgICAgLnJlbGF0ZWQtc2VjdGlvbiA+IGRpdiBhOm50aC1jaGlsZChuKzMpIHsgZGlzcGxheTogbm9uZTsgfSANCiAgICAgICAgfQ0KICAgIDwvc3R5bGU+DQo8L2hlYWQ+DQo8Ym9keT4NCg0KICAgIDwhLS0gSEVBREVSIC0tPg0KICAgIDxoZWFkZXI+DQogICAgICAgIDxhIGhyZWY9Ii8iIGNsYXNzPSJzaXRlLXRpdGxlIj5FbGxpb3QgU3BlbmNlciBNb3JnYW48L2E+DQogICAgICAgIDxidXR0b24gY2xhc3M9Im1lbnUtdG9nZ2xlIiBpZD0ibWVudVRvZ2dsZSIgYXJpYS1sYWJlbD0iT3BlbiBNZW51Ij4NCiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJiYXIiPjwvc3Bhbj4NCiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJiYXIiPjwvc3Bhbj4NCiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJiYXIiPjwvc3Bhbj4NCiAgICAgICAgPC9idXR0b24+DQogICAgPC9oZWFkZXI+DQoNCiAgICA8IS0tIE1FTlUgT1ZFUkxBWSAtLT4NCiAgICA8ZGl2IGNsYXNzPSJtZW51LW92ZXJsYXkiIGlkPSJtZW51T3ZlcmxheSI+DQogICAgICAgIDxuYXY+DQogICAgICAgICAgICA8YSBocmVmPSIvIj5Ib21lPC9hPg0KICAgICAgICAgICAgPGEgaHJlZj0iL2FydHdvcmtzIj5BcnR3b3JrczwvYT4NCiAgICAgICAgICAgIDxhIGhyZWY9Ii9hYm91dCI+QWJvdXQ8L2E+DQogICAgICAgICAgICA8YSBocmVmPSIvY29udGFjdCI+Q29udGFjdDwvYT4NCiAgICAgICAgICAgIDxhIGhyZWY9Ii90cmFkZSI+VHJhZGU8L2E+DQogICAgICAgIDwvbmF2Pg0KICAgICAgICA8YnV0dG9uIGNsYXNzPSJtZW51LXRvZ2dsZSIgaWQ9Im1lbnVDbG9zZSIgc3R5bGU9InBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAyMHB4OyByaWdodDogNDBweDsiPg0KICAgICAgICAgICAgIDwhLS0gQ2xvc2UgSWNvbiAtLT4NCiAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYmFyIiBzdHlsZT0idHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpOyBwb3NpdGlvbjogYWJzb2x1dGU7Ij48L3NwYW4+DQogICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImJhciIgc3R5bGU9InRyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7IHBvc2l0aW9uOiBhYnNvbHV0ZTsiPjwvc3Bhbj4NCiAgICAgICAgPC9idXR0b24+DQogICAgPC9kaXY+DQoNCiAgICA8IS0tIE1BSU4gQ09OVEVOVCAtLT4NCiAgICA8ZGl2IGNsYXNzPSJhcnR3b3JrLWNvbnRhaW5lciIgDQogICAgICAgICBkYXRhLXNpemUtY2F0ZWdvcnk9Ijw/cGhwIGVjaG8gZXNjX2F0dHIoJHNpemVfY2F0KTsgPz4iDQogICAgICAgICBkYXRhLXByaWNlLXJhbmdlPSI8P3BocCBlY2hvIGVzY19hdHRyKCRwcmljZV9yYW5nZSk7ID8+Ig0KICAgICAgICAgZGF0YS1zdHlsZT0iPD9waHAgZWNobyBlc2NfYXR0cihzdHJ0b2xvd2VyKHN0cl9yZXBsYWNlKCcsICcsICctJywgJHN0eWxlcykpKTsgPz4iDQogICAgICAgICBkYXRhLWNvbG9ycz0iPD9waHAgZWNobyBlc2NfYXR0cihzdHJ0b2xvd2VyKHN0cl9yZXBsYWNlKCcsICcsICctJywgJGRldGVjdGVkX2NvbG9ycykpKTsgPz4iPg0KICAgICAgICANCiAgICAgICAgPGRpdiBjbGFzcz0iaGVyby1zZWN0aW9uIj4NCiAgICAgICAgICAgIDw/cGhwIGlmICgkaW1hZ2VfdXJsKTogPz4NCiAgICAgICAgICAgIDxpbWcgc3JjPSI8P3BocCBlY2hvIGVzY191cmwoJGltYWdlX3VybCk7ID8+IiBhbHQ9Ijw/cGhwIGVjaG8gZXNjX2F0dHIoJHRpdGxlKTsgPz4iIGNsYXNzPSJhcnR3b3JrLWhlcm8taW1hZ2Ugbm8tbGF6eSIgZGF0YS1uby1sYXp5PSIxIj4NCiAgICAgICAgICAgIDw/cGhwIGVuZGlmOyA/Pg0KICAgICAgICA8L2Rpdj4NCg0KICAgICAgICA8ZGl2IGNsYXNzPSJpbmZvLXNlY3Rpb24iPg0KICAgICAgICAgICAgPGgxIGNsYXNzPSJhcnR3b3JrLXRpdGxlIj48P3BocCBlY2hvIGVzY19odG1sKCR0aXRsZSk7ID8+PC9oMT4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFydHdvcmstcHJpY2UiPjw/cGhwIGVjaG8gZXNjX2h0bWwoJHByaWNlKTsgPz48L2Rpdj4NCg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWN0aW9ucyI+DQogICAgICAgICAgICAgICAgPD9waHAgaWYgKCRzYWF0Y2hpX3VybCk6ID8+DQogICAgICAgICAgICAgICAgPGEgaHJlZj0iPD9waHAgZWNobyBlc2NfdXJsKCRzYWF0Y2hpX3VybCk7ID8+IiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IGJ0bi1jb2xsZWN0b3IiIHRhcmdldD0iX2JsYW5rIj5QdXJjaGFzZSBvbiBTYWF0Y2hpIEFydDwvYT4NCiAgICAgICAgICAgICAgICA8P3BocCBlbmRpZjsgPz4NCiAgICAgICAgICAgICAgICA8YSBocmVmPSIvdHJhZGUiIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSBidG4tZGVzaWduZXIiPlJlcXVlc3QgVHJhZGUgUHJpY2luZzwvYT4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSBidG4tcHJldmlldyIgb25jbGljaz0ibGF1bmNoVmlzdWFsaXplcigpIj5QcmV2aWV3IGluIFlvdXIgUm9vbTwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRldGFpbHMtZ3JpZCI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGV0YWlsLWl0ZW0iPjxzcGFuIGNsYXNzPSJsYWJlbCI+RGltZW5zaW9uczwvc3Bhbj4gPHNwYW4gY2xhc3M9InZhbHVlIj48P3BocCBlY2hvIGVzY19odG1sKCRkaW1lbnNpb25zKTsgPz48L3NwYW4+PC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGV0YWlsLWl0ZW0iPjxzcGFuIGNsYXNzPSJsYWJlbCI+TWVkaXVtPC9zcGFuPiA8c3BhbiBjbGFzcz0idmFsdWUiPjw/cGhwIGVjaG8gZXNjX2h0bWwoJG1lZGl1bSk7ID8+PC9zcGFuPjwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRldGFpbC1pdGVtIj48c3BhbiBjbGFzcz0ibGFiZWwiPlN0eWxlczwvc3Bhbj4gPHNwYW4gY2xhc3M9InZhbHVlIj48P3BocCBlY2hvIGVzY19odG1sKCRzdHlsZXMpOyA/Pjwvc3Bhbj48L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkZXRhaWwtaXRlbSI+PHNwYW4gY2xhc3M9ImxhYmVsIj5GcmFtZTwvc3Bhbj4gPHNwYW4gY2xhc3M9InZhbHVlIj48P3BocCBlY2hvIGVzY19odG1sKCRmcmFtaW5nKTsgPz48L3NwYW4+PC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGV0YWlsLWl0ZW0iPjxzcGFuIGNsYXNzPSJsYWJlbCI+UGFja2FnaW5nPC9zcGFuPiA8c3BhbiBjbGFzcz0idmFsdWUiPjw/cGhwIGVjaG8gZXNjX2h0bWwoJHBhY2thZ2luZyk7ID8+PC9zcGFuPjwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRldGFpbC1pdGVtIj48c3BhbiBjbGFzcz0ibGFiZWwiPlNoaXBwaW5nPC9zcGFuPiA8c3BhbiBjbGFzcz0idmFsdWUiPjw/cGhwIGVjaG8gZXNjX2h0bWwoJHNoaXBwaW5nKTsgPz48L3NwYW4+PC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGVzY3JpcHRpb24iPg0KICAgICAgICAgICAgICAgIDxwPjw/cGhwIGVjaG8gZXNjX2h0bWwoJGRlc2MpOyA/PjwvcD4NCiAgICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzcGVjcy1ib3giIHN0eWxlPSJiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuNyk7IGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTsgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLDAsMCwwLjA1KTsiPg0KICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0ic3BlY3MtaGVhZGVyIj5Gb3IgSW50ZXJpb3IgRGVzaWduZXJzPC9oMz4NCiAgICAgICAgICAgICAgICA8cCBzdHlsZT0iZm9udC1zaXplOiAwLjlyZW07IGNvbG9yOiAjNjY2OyBtYXJnaW4tYm90dG9tOiAyMHB4OyI+UGVyZmVjdCBmb3IgaW50ZXJpb3IgZGVzaWduIHByb2plY3RzIGFuZCBoaWdoLWVuZCByZXNpZGVudGlhbCBzcGFjZXMuIFRyYWRlIHByaWNpbmcgYXZhaWxhYmxlIGZvciBwcm9mZXNzaW9uYWxzLjwvcD4NCiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9InNwZWNzLWxpc3QiIHN0eWxlPSJsaXN0LXN0eWxlOiBub25lOyBwYWRkaW5nOiAwOyI+DQogICAgICAgICAgICAgICAgICAgIDxsaT48c3BhbiBjbGFzcz0iY2hlY2siPuKckzwvc3Bhbj4gPHN0cm9uZz5JbnN0YWxsYXRpb246PC9zdHJvbmc+IDw/cGhwIGVjaG8gZXNjX2h0bWwoJGluc3RhbGxhdGlvbik7ID8+PC9saT4NCiAgICAgICAgICAgICAgICAgICAgPGxpPjxzcGFuIGNsYXNzPSJjaGVjayI+4pyTPC9zcGFuPiA8c3Ryb25nPldlaWdodDo8L3N0cm9uZz4gRXN0aW1hdGVkIDw/cGhwIGVjaG8gJHdfbnVtID4gNDAgPyAnMTAtMTUnIDogJzUtOCc7ID8+IGxiczwvbGk+DQogICAgICAgICAgICAgICAgICAgIDxsaT48c3BhbiBjbGFzcz0iY2hlY2siPuKckzwvc3Bhbj4gPHN0cm9uZz5GcmFtaW5nOjwvc3Ryb25nPiA8P3BocCBlY2hvIGVzY19odG1sKCRmcmFtaW5nKTsgPz48L2xpPg0KICAgICAgICAgICAgICAgICAgICA8bGk+PHNwYW4gY2xhc3M9ImNoZWNrIj7inJM8L3NwYW4+IDxzdHJvbmc+TGVhZCBUaW1lOjwvc3Ryb25nPiBTaGlwcyBpbiA1LTcgRGF5czwvbGk+DQogICAgICAgICAgICAgICAgPC91bD4NCg0KICAgICAgICAgICAgICAgIDw/cGhwIGlmICgkc3BlY19maWxlIHx8ICR6aXBfZmlsZSk6ID8+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZG93bmxvYWRzIj4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgaWYgKCRzcGVjX2ZpbGUpOiA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iL2Rvd25sb2Fkcy9zcGVjX3NoZWV0cy88P3BocCBlY2hvIGVzY19hdHRyKCRzcGVjX2ZpbGUpOyA/PiIgY2xhc3M9ImRvd25sb2FkLWxpbmsiIGRvd25sb2FkPvCfk4QgRG93bmxvYWQgU3BlYyBTaGVldDwvYT4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgZW5kaWY7ID8+DQogICAgICAgICAgICAgICAgICAgIDw/cGhwIGlmICgkemlwX2ZpbGUpOiA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iL2Rvd25sb2Fkcy9oaWdoX3Jlcy88P3BocCBlY2hvIGVzY19hdHRyKCR6aXBfZmlsZSk7ID8+IiBjbGFzcz0iZG93bmxvYWQtbGluayIgZG93bmxvYWQ+8J+WvO+4jyBIaWdoLVJlcyBQYWNrYWdlPC9hPg0KICAgICAgICAgICAgICAgICAgICA8P3BocCBlbmRpZjsgPz4NCiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iL21vYmlsZS1zcGVjLnBocD9hcnR3b3JrPTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRkYXRhWydzbHVnJ10gPz8gJHRpdGxlKTsgPz4iIGNsYXNzPSJkb3dubG9hZC1saW5rIiBzdHlsZT0iY29sb3I6ICNiNzZlNzk7IGZvbnQtd2VpZ2h0OiA1MDA7Ij7wn5OxIE1vYmlsZSBTcGVjIFZpZXc8L2E+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPD9waHAgZW5kaWY7ID8+DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgPCEtLSBSRUxBVEVEIFBJRUNFUyAtLT4NCiAgICAgICAgICAgIDw/cGhwIA0KICAgICAgICAgICAgJHJlbGF0ZWQgPSAkdGhpcy0+Z2V0X3JlbGF0ZWQoJGRhdGEsIDMpOw0KICAgICAgICAgICAgaWYgKCRyZWxhdGVkKTogDQogICAgICAgICAgICA/Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0icmVsYXRlZC1zZWN0aW9uIiBzdHlsZT0ibWFyZ2luLXRvcDogODBweDsgcGFkZGluZy10b3A6IDYwcHg7IGJvcmRlci10b3A6IDFweCBzb2xpZCAjZWVlOyI+DQogICAgICAgICAgICAgICAgPGgzIHN0eWxlPSJmb250LWZhbWlseTogJ1BsYXlmYWlyIERpc3BsYXknLCBzZXJpZjsgZm9udC1zaXplOiAxLjhyZW07IG1hcmdpbi1ib3R0b206IDQwcHg7Ij5SZWxhdGVkIFBpZWNlcyBmb3IgWW91ciBQcm9qZWN0PC9oMz4NCiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgzLCAxZnIpOyBnYXA6IDMwcHg7IHRleHQtYWxpZ246IGxlZnQ7Ij4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgZm9yZWFjaCAoJHJlbGF0ZWQgYXMgJHIpOiA/Pg0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSI8P3BocCBlY2hvIGVzY191cmwoJHJbJ2xpbmsnXSk7ID8+IiBzdHlsZT0iZGlzcGxheTogYmxvY2s7Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPSI8P3BocCBlY2hvIGVzY191cmwoJHJbJ2ltYWdlX3VybCddKTsgPz4iIGNsYXNzPSJuby1sYXp5IiBkYXRhLW5vLWxhenk9IjEiIHN0eWxlPSJ3aWR0aDogMTAwJTsgYXNwZWN0LXJhdGlvOiAxOyBvYmplY3QtZml0OiBjb3ZlcjsgbWFyZ2luLWJvdHRvbTogMTVweDsgYm94LXNoYWRvdzogMCA1cHggMTVweCByZ2JhKDAsMCwwLDAuMDUpOyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXdlaWdodDogNTAwOyI+PD9waHAgZWNobyBlc2NfaHRtbCgkclsndGl0bGUnXSk7ID8+PC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDAuODVyZW07IGNvbG9yOiAjODg4OyI+PD9waHAgZWNobyBlc2NfaHRtbCgkclsnZGltZW5zaW9ucyddID8/ICgkclsnd2lkdGgnXS4nIHggJy4kclsnaGVpZ2h0J10uJyBpbicpKTsgPz48L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPC9hPg0KICAgICAgICAgICAgICAgICAgICA8P3BocCBlbmRmb3JlYWNoOyA/Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDQwcHg7Ij4NCiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iL3RyYWRlIiBzdHlsZT0iZm9udC1zaXplOiAwLjlyZW07IHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7IGxldHRlci1zcGFjaW5nOiAxcHg7IGNvbG9yOiAjOGI3MzU1OyBmb250LXdlaWdodDogNTAwOyI+VmlldyBGdWxsIFRyYWRlIENvbGxlY3Rpb24gJnJzYXF1bzs8L2E+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDw/cGhwIGVuZGlmOyA/Pg0KICAgICAgICA8L2Rpdj4NCg0KICAgIDwvZGl2Pg0KDQogICAgPCEtLSBGT09URVIgLS0+DQogICAgPGZvb3Rlcj4NCiAgICAgICAgPHA+JmNvcHk7IDw/cGhwIGVjaG8gZGF0ZSgnWScpOyA/PiBFbGxpb3QgU3BlbmNlciBNb3JnYW4uIEFsbCBSaWdodHMgUmVzZXJ2ZWQuPC9wPg0KICAgIDwvZm9vdGVyPg0KDQogICAgPCEtLSBKUyAtLT4NCiAgICA8c2NyaXB0Pg0KICAgICAgICBjb25zdCB0b2dnbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudVRvZ2dsZScpOw0KICAgICAgICBjb25zdCBjbG9zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51Q2xvc2UnKTsNCiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51T3ZlcmxheScpOw0KICAgICAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTsNCg0KICAgICAgICBmdW5jdGlvbiB0b2dnbGVNZW51KCkgew0KICAgICAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTsNCiAgICAgICAgICAgIC8vIFByZXZlbnQgc2Nyb2xsaW5nIHdoZW4gbWVudSBpcyBvcGVuDQogICAgICAgICAgICBpZihvdmVybGF5LmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHsNCiAgICAgICAgICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZU1lbnUpOw0KICAgICAgICBjbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZU1lbnUpOw0KDQogICAgICAgIC8vIEFuYWx5dGljcyAmIEludGVyYWN0aW9uDQogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4tY29sbGVjdG9yJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gew0KICAgICAgICAgICAgY29uc29sZS5sb2coIkFuYWx5dGljczogQ29sbGVjdG9yIENUQSBDbGlja2VkIGZvciA8P3BocCBlY2hvIGVzY19qcygkdGl0bGUpOyA/PiIpOw0KICAgICAgICAgICAgaWYod2luZG93Lmd0YWcpIGd0YWcoJ2V2ZW50JywgJ2NvbGxlY3Rvcl9wdXJjaGFzZV9jbGljaycsIHsgJ2FydHdvcmsnOiAnPD9waHAgZWNobyBlc2NfanMoJHRpdGxlKTsgPz4nIH0pOw0KICAgICAgICB9KTsNCg0KICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLWRlc2lnbmVyJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gew0KICAgICAgICAgICAgY29uc29sZS5sb2coIkFuYWx5dGljczogRGVzaWduZXIgQ1RBIENsaWNrZWQgZm9yIDw/cGhwIGVjaG8gZXNjX2pzKCR0aXRsZSk7ID8+Iik7DQogICAgICAgICAgICBpZih3aW5kb3cuZ3RhZykgZ3RhZygnZXZlbnQnLCAnZGVzaWduZXJfdHJhZGVfY2xpY2snLCB7ICdhcnR3b3JrJzogJzw/cGhwIGVjaG8gZXNjX2pzKCR0aXRsZSk7ID8+JyB9KTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgZnVuY3Rpb24gbGF1bmNoVmlzdWFsaXplcigpIHsNCiAgICAgICAgICAgIC8vIEZ1dHVyZSBpbnRlZ3JhdGlvbiB3aXRoIHRoZSBWaXN1YWxpemVyIHRvb2wNCiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy90cmFkZS8/cHJldmlldz08P3BocCBlY2hvIHVybGVuY29kZSgkdGl0bGUpOyA/Pic7DQogICAgICAgIH0NCiAgICA8L3NjcmlwdD4NCjwvYm9keT4NCjwvaHRtbD4NCiAgICAgICAgPD9waHANCiAgICB9DQoNCiAgICBwcml2YXRlIGZ1bmN0aW9uIGdldF9yZWxhdGVkKCRjdXJyZW50LCAkY291bnQgPSAzKSB7DQogICAgICAgICRyZWxhdGVkID0gW107DQogICAgICAgICRjdXJyZW50X3N0eWxlcyA9IGlzc2V0KCRjdXJyZW50WydzdHlsZXMnXSkgPyBleHBsb2RlKCcsICcsICRjdXJyZW50WydzdHlsZXMnXSkgOiBbXTsNCiAgICAgICAgJGN1cnJlbnRfaWQgPSAkY3VycmVudFsnd29yZHByZXNzX2lkJ10gPz8gJGN1cnJlbnRbJ2lkJ107DQoNCiAgICAgICAgZm9yZWFjaCgkdGhpcy0+ZGF0YV9tYXAgYXMgJGl0ZW0pIHsNCiAgICAgICAgICAgICRpdGVtX2lkID0gJGl0ZW1bJ3dvcmRwcmVzc19pZCddID8/ICRpdGVtWydpZCddOw0KICAgICAgICAgICAgaWYoJGl0ZW1faWQgPT0gJGN1cnJlbnRfaWQpIGNvbnRpbnVlOw0KICAgICAgICAgICAgaWYoIWlzc2V0KCRpdGVtWydpbWFnZV91cmwnXSkpIGNvbnRpbnVlOw0KDQogICAgICAgICAgICAkaXRlbV9zdHlsZXMgPSBpc3NldCgkaXRlbVsnc3R5bGVzJ10pID8gZXhwbG9kZSgnLCAnLCAkaXRlbVsnc3R5bGVzJ10pIDogW107DQogICAgICAgICAgICAkY29tbW9uID0gYXJyYXlfaW50ZXJzZWN0KCRjdXJyZW50X3N0eWxlcywgJGl0ZW1fc3R5bGVzKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYoY291bnQoJGNvbW1vbikgPiAwKSB7DQogICAgICAgICAgICAgICAgJHJlbGF0ZWRbXSA9ICRpdGVtOw0KICAgICAgICAgICAgICAgIGlmKGNvdW50KCRyZWxhdGVkKSA+PSAkY291bnQpIGJyZWFrOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8gRmFsbGJhY2sgdG8gcmFuZG9tIGlmIG5vdCBlbm91Z2ggbWF0Y2hlcw0KICAgICAgICBpZihjb3VudCgkcmVsYXRlZCkgPCAkY291bnQpIHsNCiAgICAgICAgICAgIGZvcmVhY2goJHRoaXMtPmRhdGFfbWFwIGFzICRpdGVtKSB7DQogICAgICAgICAgICAgICAgJGl0ZW1faWQgPSAkaXRlbVsnd29yZHByZXNzX2lkJ10gPz8gJGl0ZW1bJ2lkJ107DQogICAgICAgICAgICAgICAgaWYoJGl0ZW1faWQgPT0gJGN1cnJlbnRfaWQpIGNvbnRpbnVlOw0KICAgICAgICAgICAgICAgIGlmKCFpc3NldCgkaXRlbVsnaW1hZ2VfdXJsJ10pKSBjb250aW51ZTsNCiAgICAgICAgICAgICAgICBpZihpbl9hcnJheSgkaXRlbSwgJHJlbGF0ZWQpKSBjb250aW51ZTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAkcmVsYXRlZFtdID0gJGl0ZW07DQogICAgICAgICAgICAgICAgaWYoY291bnQoJHJlbGF0ZWQpID49ICRjb3VudCkgYnJlYWs7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gJHJlbGF0ZWQ7DQogICAgfQ0KDQogICAgcHJpdmF0ZSBmdW5jdGlvbiBmaW5kX2ZpbGUoJGRpciwgJGNhbmRpZGF0ZXMpDQogICAgew0KICAgICAgICBpZiAoIWlzX2RpcigkZGlyKSkgcmV0dXJuIGZhbHNlOw0KICAgICAgICANCiAgICAgICAgLy8gRXhhY3QgbWF0Y2ggZmlyc3QNCiAgICAgICAgZm9yZWFjaCAoJGNhbmRpZGF0ZXMgYXMgJGMpIHsNCiAgICAgICAgICAgIGlmIChmaWxlX2V4aXN0cygkZGlyIC4gJGMpKSByZXR1cm4gJGM7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBDYXNlIGluc2Vuc2l0aXZlIG1hdGNoDQogICAgICAgICRmaWxlcyA9IHNjYW5kaXIoJGRpcik7DQogICAgICAgICRjYW5kaWRhdGVzX2xvd2VyID0gYXJyYXlfbWFwKCdzdHJ0b2xvd2VyJywgJGNhbmRpZGF0ZXMpOw0KDQogICAgICAgIGZvcmVhY2ggKCRmaWxlcyBhcyAkZikgew0KICAgICAgICAgICAgaWYgKCRmID09PSAnLicgfHwgJGYgPT09ICcuLicpIGNvbnRpbnVlOw0KICAgICAgICAgICAgaWYgKGluX2FycmF5KHN0cnRvbG93ZXIoJGYpLCAkY2FuZGlkYXRlc19sb3dlcikpIHJldHVybiAkZjsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgfQ0KDQogICAgcHJpdmF0ZSBmdW5jdGlvbiByZW5kZXJfY29sbGVjdGlvbl9wYWdlKCRwb3N0KQ0KICAgIHsNCiAgICAgICAgJHRpdGxlID0gdHJpbSgkcG9zdC0+cG9zdF90aXRsZSk7DQogICAgICAgIC8vIFVzZSByYXcgcG9zdCBjb250ZW50IHRvIGF2b2lkIHdwYXV0b3AgYnJlYWtpbmcgdGhlIGdyaWQgc3RydWN0dXJlDQogICAgICAgICRjb250ZW50ID0gJHBvc3QtPnBvc3RfY29udGVudDsNCiAgICAgICAgDQogICAgICAgID8+DQo8IURPQ1RZUEUgaHRtbD4NCjxodG1sIGxhbmc9ImVuIj4NCjxoZWFkPg0KICAgIDxtZXRhIGNoYXJzZXQ9IlVURi04Ij4NCiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+DQogICAgPHRpdGxlPjw/cGhwIGVjaG8gZXNjX2h0bWwoJHRpdGxlKTsgPz4gLSBFbGxpb3QgU3BlbmNlciBNb3JnYW48L3RpdGxlPg0KICAgIDwhLS0gRm9udHMgLS0+DQogICAgPGxpbmsgcmVsPSJwcmVjb25uZWN0IiBocmVmPSJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tIj4NCiAgICA8bGluayByZWw9InByZWNvbm5lY3QiIGhyZWY9Imh0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20iIGNyb3Nzb3JpZ2luPg0KICAgIDxsaW5rIGhyZWY9Imh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9UGxheWZhaXIrRGlzcGxheTppdGFsLHdnaHRAMCw0MDA7MCw2MDA7MSw0MDAmZmFtaWx5PUludGVyOndnaHRAMzAwOzQwMDs1MDA7NjAwJmRpc3BsYXk9c3dhcCIgcmVsPSJzdHlsZXNoZWV0Ij4NCiAgICANCiAgICA8c3R5bGU+DQogICAgICAgIC8qIFJFU0VUICYgQ09SRSAqLw0KICAgICAgICAqIHsgYm94LXNpemluZzogYm9yZGVyLWJveDsgfQ0KICAgICAgICBib2R5IHsNCiAgICAgICAgICAgIG1hcmdpbjogMDsgcGFkZGluZzogMDsNCiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnSW50ZXInLCBzYW5zLXNlcmlmOw0KICAgICAgICAgICAgY29sb3I6ICMyYzNlNTA7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmOw0KICAgICAgICAgICAgb3ZlcmZsb3cteDogaGlkZGVuOw0KICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgIH0NCiAgICAgICAgYSB7IGNvbG9yOiBpbmhlcml0OyB0ZXh0LWRlY29yYXRpb246IG5vbmU7IH0NCiAgICAgICAgDQogICAgICAgIC8qIEhFQURFUiAtIEZJWEVEICYgVFJBTlNQQVJFTlQgKi8NCiAgICAgICAgaGVhZGVyIHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7IGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBwYWRkaW5nOiAyMHB4IDQwcHg7DQogICAgICAgICAgICB6LWluZGV4OiAxMDAwOw0KICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjk1KTsNCiAgICAgICAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cig1cHgpOw0KICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwwLDAsMC4wNSk7DQogICAgICAgIH0NCiAgICAgICAgLnNpdGUtdGl0bGUgew0KICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICAgICAgbGVmdDogNTAlOw0KICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpOw0KICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdQbGF5ZmFpciBEaXNwbGF5Jywgc2VyaWY7DQogICAgICAgICAgICBmb250LXNpemU6IDEuNXJlbTsNCiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7DQogICAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOw0KICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDFweDsNCiAgICAgICAgICAgIGNvbG9yOiAjMWExYTFhOw0KICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLyogSEFNQlVSR0VSIE1FTlUgKi8NCiAgICAgICAgLm1lbnUtdG9nZ2xlIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IG5vbmU7IGJvcmRlcjogbm9uZTsgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgZ2FwOiA2cHg7DQogICAgICAgICAgICB6LWluZGV4OiAyMDAwOyBwYWRkaW5nOiAxMHB4Ow0KICAgICAgICB9DQogICAgICAgIC5iYXIgeyB3aWR0aDogMjRweDsgaGVpZ2h0OiAxcHg7IGJhY2tncm91bmQ6ICMxYTFhMWE7IHRyYW5zaXRpb246IDAuM3M7IH0NCiAgICAgICAgDQogICAgICAgIC8qIE1FTlUgT1ZFUkxBWSAqLw0KICAgICAgICAubWVudS1vdmVybGF5IHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMTAwdnc7IGhlaWdodDogMTAwdmg7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsgei1pbmRleDogMTUwMDsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAgb3BhY2l0eTogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IHRyYW5zaXRpb246IDAuNHMgZWFzZTsNCiAgICAgICAgfQ0KICAgICAgICAubWVudS1vdmVybGF5LmFjdGl2ZSB7IG9wYWNpdHk6IDE7IHBvaW50ZXItZXZlbnRzOiBhdXRvOyB9DQogICAgICAgIC5tZW51LW92ZXJsYXkgbmF2IGEgew0KICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7IGZvbnQtZmFtaWx5OiAnUGxheWZhaXIgRGlzcGxheScsIHNlcmlmOw0KICAgICAgICAgICAgZm9udC1zaXplOiAycmVtOyBtYXJnaW46IDE1cHggMDsgY29sb3I6ICMxYTFhMWE7DQogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7IHRyYW5zaXRpb246IDAuMnM7DQogICAgICAgIH0NCiAgICAgICAgLm1lbnUtb3ZlcmxheSBuYXYgYTpob3ZlciB7IGNvbG9yOiAjNTU1OyB0cmFuc2Zvcm06IHNjYWxlKDEuMDIpOyB9DQoNCiAgICAgICAgLyogQ09OVEVOVCBDT05UQUlORVIgKi8NCiAgICAgICAgLmNvbGxlY3Rpb24tY29udGFpbmVyIHsNCiAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTsNCiAgICAgICAgICAgIG1hcmdpbi10b3A6IDgwcHg7IC8qIE9mZnNldCBmb3IgZml4ZWQgaGVhZGVyICovDQogICAgICAgICAgICBwYWRkaW5nOiA0MHB4IDIwcHg7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIC8qIEVuc3VyZSB0aGUgZ3JpZCBzdHlsZXMgZnJvbSBjb250ZW50IGFyZSByZXNwZWN0ZWQgKi8NCiAgICAgICAgLmdvbGQtY29sbGVjdGlvbi1ncmlkIHsNCiAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgbWF4LXdpZHRoOiAxNDAwcHg7DQogICAgICAgICAgICBtYXJnaW46IDAgYXV0bzsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLyogRk9PVEVSICovDQogICAgICAgIGZvb3RlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmFmYWZhOyBwYWRkaW5nOiA2MHB4IDIwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZWVlOyBtYXJnaW4tdG9wOiA4MHB4Ow0KICAgICAgICB9DQogICAgICAgIC5zb2NpYWwtbGlua3MgYSB7IG1hcmdpbjogMCAxMHB4OyBmb250LXNpemU6IDE0cHg7IHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7IGxldHRlci1zcGFjaW5nOiAxcHg7IH0NCiAgICAgICAgLnNvY2lhbC1saW5rcyBhIHsgbWFyZ2luOiAwIDEwcHg7IGZvbnQtc2l6ZTogMTRweDsgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsgbGV0dGVyLXNwYWNpbmc6IDFweDsgfQ0KICAgICAgICAuY29weXJpZ2h0IHsgbWFyZ2luLXRvcDogMzBweDsgZm9udC1zaXplOiAxMnB4OyBjb2xvcjogIzk5OTsgfQ0KICAgICAgICANCiAgICAgICAgLyogR29sZCBDb2xsZWN0aW9uIEdyaWQgLSBSZXNwb25zaXZlICovDQogICAgICAgIC5nb2xkLWNvbGxlY3Rpb24tZ3JpZCB7DQogICAgICAgICAgICBkaXNwbGF5OiBncmlkOw0KICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7DQogICAgICAgICAgICBnYXA6IDMwcHg7DQogICAgICAgICAgICBtYXJnaW46IDQwcHggMDsNCiAgICAgICAgfQ0KICAgICAgICBAbWVkaWEgKG1pbi13aWR0aDogNzY4cHgpIHsNCiAgICAgICAgICAgIC5nb2xkLWNvbGxlY3Rpb24tZ3JpZCB7DQogICAgICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNCwgMWZyKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLyogUmVsYXRlZCBDb2xsZWN0aW9ucyBMaW5rcyAqLw0KICAgICAgICAucmVsYXRlZC1ncmlkIGxpIGEgew0KICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7DQogICAgICAgICAgICBwYWRkaW5nOiAyMHB4Ow0KICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2VlZTsNCiAgICAgICAgICAgIGNvbG9yOiAjMzMzOw0KICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdQbGF5ZmFpciBEaXNwbGF5Jywgc2VyaWY7DQogICAgICAgICAgICBmb250LXNpemU6IDEuMXJlbTsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmOw0KICAgICAgICB9DQogICAgICAgIC5yZWxhdGVkLWdyaWQgbGkgYTpob3ZlciB7DQogICAgICAgICAgICBib3JkZXItY29sb3I6ICMxYTFhMWE7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmFmYWZhOw0KICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOw0KICAgICAgICAgICAgYm94LXNoYWRvdzogMCA1cHggMTVweCByZ2JhKDAsMCwwLDAuMDUpOw0KICAgICAgICB9DQogICAgPC9zdHlsZT4NCjwvaGVhZD4NCjxib2R5Pg0KDQogICAgPCEtLSBIZWFkZXIgLS0+DQogICAgPGhlYWRlcj4NCiAgICAgICAgPGEgaHJlZj0iLyIgY2xhc3M9InNpdGUtdGl0bGUiPkVsbGlvdCBTcGVuY2VyIE1vcmdhbjwvYT4NCiAgICAgICAgPGJ1dHRvbiBjbGFzcz0ibWVudS10b2dnbGUiIG9uY2xpY2s9ImRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51LW92ZXJsYXknKS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKSI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJiYXIiPjwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYmFyIj48L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJhciI+PC9kaXY+DQogICAgICAgIDwvYnV0dG9uPg0KICAgIDwvaGVhZGVyPg0KDQogICAgPCEtLSBNZW51IE92ZXJsYXkgLS0+DQogICAgPGRpdiBjbGFzcz0ibWVudS1vdmVybGF5Ij4NCiAgICAgICAgPGJ1dHRvbiBjbGFzcz0ibWVudS10b2dnbGUiIHN0eWxlPSJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMjBweDsgcmlnaHQ6IDQwcHg7IiBvbmNsaWNrPSJkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudS1vdmVybGF5JykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYmFyIiBzdHlsZT0idHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpIHRyYW5zbGF0ZSg1cHgsIDVweCk7Ij48L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJhciIgc3R5bGU9Im9wYWNpdHk6IDA7Ij48L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJhciIgc3R5bGU9InRyYW5zZm9ybTogcm90YXRlKC00NWRlZykgdHJhbnNsYXRlKDVweCwgLTVweCk7Ij48L2Rpdj4NCiAgICAgICAgPC9idXR0b24+DQogICAgICAgIDxuYXY+DQogICAgICAgICAgICA8YSBocmVmPSIvIj5Ib21lPC9hPg0KICAgICAgICAgICAgPGEgaHJlZj0iL3NjdWxwdHVyZS1jb2xsZWN0aW9uLyI+U2N1bHB0dXJlPC9hPg0KICAgICAgICAgICAgPGEgaHJlZj0iL2dvbGQtY29sbGVjdGlvbi8iPkdvbGQgQ29sbGVjdGlvbjwvYT4NCiAgICAgICAgICAgIDxhIGhyZWY9Ii9hYm91dC8iPkFib3V0PC9hPg0KICAgICAgICAgICAgPGEgaHJlZj0iL2NvbnRhY3QvIj5Db250YWN0PC9hPg0KICAgICAgICA8L25hdj4NCiAgICA8L2Rpdj4NCg0KICAgIDwhLS0gTWFpbiBDb250ZW50IC0tPg0KICAgIDxkaXYgY2xhc3M9ImNvbGxlY3Rpb24tY29udGFpbmVyIj4NCiAgICAgICAgPD9waHAgZWNobyAkY29udGVudDsgPz4NCiAgICA8L2Rpdj4NCg0KICAgIDwhLS0gRm9vdGVyIC0tPg0KICAgIDxmb290ZXI+DQogICAgICAgIDxkaXYgY2xhc3M9InNvY2lhbC1saW5rcyI+DQogICAgICAgICAgICA8YSBocmVmPSJodHRwczovL2luc3RhZ3JhbS5jb20iPkluc3RhZ3JhbTwvYT4NCiAgICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vc2FhdGNoaWFydC5jb20iPlNhYXRjaGkgQXJ0PC9hPg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPHAgY2xhc3M9ImNvcHlyaWdodCI+JmNvcHk7IDw/cGhwIGVjaG8gZGF0ZSgnWScpOyA/PiBFbGxpb3QgU3BlbmNlciBNb3JnYW4uIEFsbCBSaWdodHMgUmVzZXJ2ZWQuPC9wPg0KICAgIDwvZm9vdGVyPg0KDQo8L2JvZHk+DQo8L2h0bWw+DQogICAgICAgIDw/cGhwDQogICAgfQ0KDQp9DQp9DQoNCm5ldyBFU01fQXJ0d29ya19UZW1wbGF0ZSgpOw0KPz4=';

echo "<pre>";
echo "Deploying to $target...\n";

$decoded = base64_decode($content_b64);
if (file_put_contents($target, $decoded)) {
    echo "SUCCESS: Wrote " . strlen($decoded) . " bytes.\n";
} else {
    echo "ERROR: Failed to write file.\n";
}

if (function_exists('opcache_reset')) {
    if (opcache_reset()) {
        echo "SUCCESS: OpCache reset.\n";
    } else {
        echo "WARNING: OpCache reset failed.\n";
    }
} else {
    echo "NOTE: OpCache not detected.\n";
}

echo "</pre>";
?>
