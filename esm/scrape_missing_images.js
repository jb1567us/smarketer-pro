
// SCRAPE MISSING IMAGES
(async () => {
    const artworkList = [{"id": 125, "title": "Yorkie Painting", "saatchi_url": "https://www.saatchiart.com/art/Painting-Yorkie/1295487/6783225/view"}, {"id": "new_0", "title": "Meeting in the Middle", "saatchi_url": "https://www.saatchiart.com/art/Painting-Meeting-in-the-Middle/1295487/8754042/view"}, {"id": "new_1", "title": "Finger print", "saatchi_url": "https://www.saatchiart.com/art/Painting-Finger-print/1295487/8754025/view"}, {"id": "new_2", "title": "self portrait 1", "saatchi_url": "https://www.saatchiart.com/art/Painting-self-portrait-1/1295487/8125469/view"}, {"id": "new_3", "title": "Dog on a bike", "saatchi_url": "https://www.saatchiart.com/art/Painting-Dog-on-a-bike/1295487/8125271/view"}, {"id": "new_4", "title": "City at Night Mulch Series", "saatchi_url": "https://www.saatchiart.com/art/Collage-City-at-Night-Mulch-Series/1295487/6583787/view"}, {"id": "new_5", "title": "Close up Mulch Series", "saatchi_url": "https://www.saatchiart.com/art/Collage-Close-up-Mulch-Series/1295487/6583777/view"}, {"id": "new_6", "title": "Pieces of Red", "saatchi_url": "https://www.saatchiart.com/art/Collage-Pieces-of-Red/1295487/6583729/view"}, {"id": "new_7", "title": "Red and Black Mulch Series", "saatchi_url": "https://www.saatchiart.com/art/Collage-Red-and-Black-Mulch-Series/1295487/6583709/view"}, {"id": "new_8", "title": "Jaguar", "saatchi_url": "https://www.saatchiart.com/art/Sculpture-Jaguar/1295487/6513325/view"}, {"id": "new_9", "title": "Megapixels", "saatchi_url": "https://www.saatchiart.com/art/Sculpture-Megapixels/1295487/6513307/view"}, {"id": "new_10", "title": "ESM S17", "saatchi_url": "https://www.saatchiart.com/art/Sculpture-ESM-S17/1295487/6513257/view"}, {"id": "new_11", "title": "Fire Flow", "saatchi_url": "https://www.saatchiart.com/art/Painting-Fire-Flow/1295487/6513221/view"}, {"id": "new_12", "title": "Owls in Fall", "saatchi_url": "https://www.saatchiart.com/art/Painting-Owls-in-Fall/1295487/6513209/view"}, {"id": "new_13", "title": "Connectivity", "saatchi_url": "https://www.saatchiart.com/art/Painting-Connectivity/1295487/6513163/view"}, {"id": "new_14", "title": "Atomic Flow", "saatchi_url": "https://www.saatchiart.com/art/Painting-Atomic-Flow/1295487/6513149/view"}, {"id": "new_15", "title": "Trees", "saatchi_url": "https://www.saatchiart.com/art/Painting-Trees/1295487/6513127/view"}, {"id": "new_16", "title": "Animal Kingdom", "saatchi_url": "https://www.saatchiart.com/art/Painting-Animal-Kingdom/1295487/6513109/view"}, {"id": "new_17", "title": "Clean Hands", "saatchi_url": "https://www.saatchiart.com/art/Painting-Clean-Hands/1295487/6513085/view"}, {"id": "new_18", "title": "Reflection", "saatchi_url": "https://www.saatchiart.com/art/Painting-Reflection/1295487/6513075/view"}, {"id": "new_19", "title": "Eggs and Eyes", "saatchi_url": "https://www.saatchiart.com/art/Painting-Eggs-and-Eyes/1295487/6492629/view"}, {"id": "new_20", "title": "Moon Dance", "saatchi_url": "https://www.saatchiart.com/art/Painting-Moon-Dance/1295487/6492627/view"}, {"id": "new_21", "title": "Floating Leaves", "saatchi_url": "https://www.saatchiart.com/art/Painting-Floating-Leaves/1295487/6492617/view"}, {"id": "new_22", "title": "Arrowheads", "saatchi_url": "https://www.saatchiart.com/art/Painting-Arrowheads/1295487/6492613/view"}, {"id": "new_23", "title": "campground", "saatchi_url": "https://www.saatchiart.com/art/Painting-campground/1295487/6492597/view"}, {"id": "new_25", "title": "Streams and Ponds", "saatchi_url": "https://www.saatchiart.com/art/Painting-Streams-and-Ponds/1295487/6492583/view"}, {"id": "new_26", "title": "Cluster of Caps", "saatchi_url": "https://www.saatchiart.com/art/Painting-Cluster-of-Caps/1295487/6492577/view"}, {"id": "new_27", "title": "Duck pond", "saatchi_url": "https://www.saatchiart.com/art/Painting-Duck-pond/1295487/6492573/view"}, {"id": "new_28", "title": "Creek Bottom", "saatchi_url": "https://www.saatchiart.com/art/Painting-Creek-Bottom/1295487/6492497/view"}, {"id": "new_29", "title": "Organic Mushrooms", "saatchi_url": "https://www.saatchiart.com/art/Painting-Organic-Mushrooms/1295487/6492491/view"}, {"id": "new_30", "title": "Stones", "saatchi_url": "https://www.saatchiart.com/art/Painting-Stones/1295487/6492487/view"}, {"id": "new_31", "title": "Cubes", "saatchi_url": "https://www.saatchiart.com/art/Painting-Cubes/1295487/6492481/view"}, {"id": "new_32", "title": "Seed pods", "saatchi_url": "https://www.saatchiart.com/art/Painting-Seed-pods/1295487/6492463/view"}, {"id": "new_33", "title": "Excited Bird", "saatchi_url": "https://www.saatchiart.com/art/Painting-Excited-Bird/1295487/6492447/view"}, {"id": "new_34", "title": "Mushroom Exclamation", "saatchi_url": "https://www.saatchiart.com/art/Painting-Mushroom-Exclamation/1295487/6492441/view"}, {"id": "new_35", "title": "Snake and Rocks", "saatchi_url": "https://www.saatchiart.com/art/Painting-Snake-and-Rocks/1295487/6492431/view"}, {"id": "new_36", "title": "Shapeshifter", "saatchi_url": "https://www.saatchiart.com/art/Painting-Shapeshifter/1295487/6492415/view"}, {"id": "new_37", "title": "Coiled Snake", "saatchi_url": "https://www.saatchiart.com/art/Painting-Coiled-Snake/1295487/6492413/view"}, {"id": "new_38", "title": "Avacado Snack", "saatchi_url": "https://www.saatchiart.com/art/Painting-Avacado-Snack/1295487/6492407/view"}, {"id": "new_39", "title": "Gold Shapes", "saatchi_url": "https://www.saatchiart.com/art/Painting-Gold-Shapes/1295487/6492375/view"}, {"id": "new_40", "title": "Musical Embrace", "saatchi_url": "https://www.saatchiart.com/art/Painting-Musical-Embrace/1295487/6492355/view"}, {"id": "new_41", "title": "Organic food", "saatchi_url": "https://www.saatchiart.com/art/Painting-Organic-food/1295487/6492337/view"}, {"id": "new_42", "title": "Snake Eggs", "saatchi_url": "https://www.saatchiart.com/art/Painting-Snake-Eggs/1295487/6492325/view"}, {"id": "new_43", "title": "Brush Strokes", "saatchi_url": "https://www.saatchiart.com/art/Painting-Brush-Strokes/1295487/6492323/view"}, {"id": "new_44", "title": "Blanket", "saatchi_url": "https://www.saatchiart.com/art/Painting-Blanket/1295487/6492319/view"}, {"id": "new_45", "title": "Dance", "saatchi_url": "https://www.saatchiart.com/art/Painting-Dance/1295487/6492311/view"}, {"id": "new_46", "title": "Bloom", "saatchi_url": "https://www.saatchiart.com/art/Painting-Bloom/1295487/6492303/view"}, {"id": "new_47", "title": "Organic Shapes", "saatchi_url": "https://www.saatchiart.com/art/Painting-Organic-Shapes/1295487/6492289/view"}, {"id": "new_48", "title": "Silver", "saatchi_url": "https://www.saatchiart.com/art/Painting-Silver/1295487/6483881/view"}, {"id": "new_49", "title": "Fortune", "saatchi_url": "https://www.saatchiart.com/art/Painting-Fortune/1295487/6483865/view"}, {"id": "new_50", "title": "Transformation", "saatchi_url": "https://www.saatchiart.com/art/Painting-Transformation/1295487/6483815/view"}, {"id": "new_51", "title": "Golden Nugget", "saatchi_url": "https://www.saatchiart.com/art/Painting-Golden-Nugget/1295487/6483777/view"}, {"id": "new_52", "title": "Golden Rule", "saatchi_url": "https://www.saatchiart.com/art/Painting-Golden-Rule/1295487/6483759/view"}, {"id": "new_53", "title": "Feather trees", "saatchi_url": "https://www.saatchiart.com/art/Painting-Feather-trees/1295487/6447005/view"}, {"id": "new_54", "title": "Magic Carpet", "saatchi_url": "https://www.saatchiart.com/art/Painting-Magic-Carpet/1295487/6446995/view"}, {"id": "new_55", "title": "Screen", "saatchi_url": "https://www.saatchiart.com/art/Painting-Screen/1295487/6446983/view"}, {"id": "new_56", "title": "Spring Blooms", "saatchi_url": "https://www.saatchiart.com/art/Painting-Spring-Blooms/1295487/6446977/view"}, {"id": "new_57", "title": "Celebrate", "saatchi_url": "https://www.saatchiart.com/art/Painting-Celebrate/1295487/6446967/view"}, {"id": "new_58", "title": "Anemones", "saatchi_url": "https://www.saatchiart.com/art/Painting-Anemones/1295487/6446959/view"}, {"id": "new_59", "title": "Coral", "saatchi_url": "https://www.saatchiart.com/art/Painting-Coral/1295487/6446941/view"}, {"id": "new_60", "title": "Existance", "saatchi_url": "https://www.saatchiart.com/art/Painting-Existance/1295487/6446929/view"}, {"id": "new_61", "title": "Fireworks", "saatchi_url": "https://www.saatchiart.com/art/Painting-Fireworks/1295487/6446913/view"}, {"id": "new_62", "title": "Synapse", "saatchi_url": "https://www.saatchiart.com/art/Painting-Synapse/1295487/6446909/view"}, {"id": "new_63", "title": "Stick men", "saatchi_url": "https://www.saatchiart.com/art/Painting-Stick-men/1295487/6446901/view"}, {"id": "new_64", "title": "Descending", "saatchi_url": "https://www.saatchiart.com/art/Painting-Descending/1295487/6446893/view"}, {"id": "new_65", "title": "lifeforce", "saatchi_url": "https://www.saatchiart.com/art/Painting-lifeforce/1295487/6446799/view"}, {"id": "new_66", "title": "Turquoise and Peppers", "saatchi_url": "https://www.saatchiart.com/art/Painting-Turquoise-and-Peppers/1295487/6446775/view"}, {"id": "new_67", "title": "Turquoise blend", "saatchi_url": "https://www.saatchiart.com/art/Painting-Turquoise-blend/1295487/6446755/view"}, {"id": "new_68", "title": "Turquoise stretch", "saatchi_url": "https://www.saatchiart.com/art/Painting-Turquoise-stretch/1295487/6446705/view"}, {"id": "new_69", "title": "Turquoise Circuit board", "saatchi_url": "https://www.saatchiart.com/art/Painting-Turquoise-Circuit-board/1295487/6446693/view"}, {"id": "new_70", "title": "Blast of Blue on Red", "saatchi_url": "https://www.saatchiart.com/art/Painting-Blast-of-Blue-on-Red/1295487/6446665/view"}, {"id": "new_71", "title": "Blue Gold", "saatchi_url": "https://www.saatchiart.com/art/Painting-Blue-Gold/1295487/6446651/view"}, {"id": "new_72", "title": "Blue Glacier", "saatchi_url": "https://www.saatchiart.com/art/Painting-Blue-Glacier/1295487/6446603/view"}, {"id": "new_73", "title": "Blue Wave", "saatchi_url": "https://www.saatchiart.com/art/Painting-Blue-Wave/1295487/6446583/view"}, {"id": "new_74", "title": "Blue Mesh", "saatchi_url": "https://www.saatchiart.com/art/Painting-Blue-Mesh/1295487/6446557/view"}, {"id": "new_75", "title": "Cold Blue", "saatchi_url": "https://www.saatchiart.com/art/Painting-Cold-Blue/1295487/6446543/view"}, {"id": "new_76", "title": "Blue Storm", "saatchi_url": "https://www.saatchiart.com/art/Painting-Blue-Storm/1295487/6446503/view"}, {"id": "new_77", "title": "No Public Shrooms Limited Edition of 1", "saatchi_url": "https://www.saatchiart.com/art/Printmaking-No-Public-Shrooms-Limited-Edition-of-1/1295487/6444945/view"}, {"id": "new_78", "title": "No Public Shrooms Limited Edition of 1", "saatchi_url": "https://www.saatchiart.com/art/Printmaking-No-Public-Shrooms-Limited-Edition-of-1/1295487/6444917/view"}, {"id": "new_79", "title": "Start Sign Limited Edition of 1", "saatchi_url": "https://www.saatchiart.com/art/Printmaking-Start-Sign-Limited-Edition-of-1/1295487/6444891/view"}, {"id": "new_80", "title": "Right Way Limited Edition of 1", "saatchi_url": "https://www.saatchiart.com/art/Printmaking-Right-Way-Limited-Edition-of-1/1295487/6444853/view"}, {"id": "new_81", "title": "NO PORKING", "saatchi_url": "https://www.saatchiart.com/art/Installation-NO-PORKING/1295487/6444805/view"}, {"id": "new_82", "title": "GOLD SERIES 006", "saatchi_url": "https://www.saatchiart.com/art/Painting-GOLD-SERIES-006/1295487/6412863/view"}, {"id": "new_83", "title": "GOLD SERIES 005", "saatchi_url": "https://www.saatchiart.com/art/Painting-GOLD-SERIES-005/1295487/6412831/view"}, {"id": "new_84", "title": "GOLD SERIES 004", "saatchi_url": "https://www.saatchiart.com/art/Painting-GOLD-SERIES-004/1295487/6412815/view"}, {"id": "new_85", "title": "GOLD SERIES 003", "saatchi_url": "https://www.saatchiart.com/art/Painting-GOLD-SERIES-003/1295487/6412813/view"}, {"id": "new_86", "title": "GOLD SERIES 002", "saatchi_url": "https://www.saatchiart.com/art/Painting-GOLD-SERIES-002/1295487/6412799/view"}, {"id": "new_87", "title": "GOLD SERIES 001", "saatchi_url": "https://www.saatchiart.com/art/Painting-GOLD-SERIES-001/1295487/6412791/view"}, {"id": "new_88", "title": "waves", "saatchi_url": "https://www.saatchiart.com/art/Painting-waves/1295487/6364287/view"}];

    console.log(`Starting image scrape for ${artworkList.length} items...`);
    const results = [];
    const errors = [];

    const wait = ms => new Promise(r => setTimeout(r, ms));

    for (let i = 0; i < artworkList.length; i++) {
        const item = artworkList[i];
        console.log(`[${i + 1}/${artworkList.length}] Fetching: ${item.title}`);

        try {
            const resp = await fetch(item.saatchi_url);
            if (!resp.ok) throw new Error(`Status ${resp.status}`);
            const html = await resp.text();
            const doc = new DOMParser().parseFromString(html, 'text/html');
            
            const extracted = { ...item };
            
            // Extract Image URL
            // Strategy 1: og:image meta tag (Most reliable)
            const ogImage = doc.querySelector('meta[property="og:image"]');
            if (ogImage) {
                extracted.image_url = ogImage.content;
            } else {
                // Strategy 2: Main image element
                const mainImg = doc.querySelector('[data-role="main-image"], .artwork-image img');
                if (mainImg) extracted.image_url = mainImg.src;
            }

            if (extracted.image_url) {
                console.log(`  found image: ${extracted.image_url.substring(0, 30)}...`);
                results.push(extracted);
            } else {
                console.warn(`  NO IMAGE FOUND for ${item.title}`);
                errors.push(item);
            }

        } catch (e) {
            console.error(`Failed ${item.title}:`, e);
            errors.push(item);
        }

        // Polite delay
        await wait(500);
    }

    console.log("SCRAPING COMPLETE");
    console.log("=== COPY THE JSON BELOW ===");
    console.log(JSON.stringify(results));
    console.log("===========================");
    
    // Auto-download
    const blob = new Blob([JSON.stringify(results, null, 2)], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'scraped_images.json';
    a.click();
})();
