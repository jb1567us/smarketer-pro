<?php
$data = "PD9waHANCnJlcXVpcmVfb25jZSgnd3AtbG9hZC5waHAnKTsNCmdsb2JhbCAkd3BkYjsNCiRwaWQgPSAxOTI3Ow0KDQovLyBGb3JjZSBjbGVhciBjYWNoZSBmb3IgdGhpcyBwb3N0IGp1c3QgaW4gY2FzZQ0KY2xlYW5fcG9zdF9jYWNoZSgkcGlkKTsNCg0KLy8gUmVhZCB2aWEgU1FMIChCeXBhc3MgT2JqZWN0IENhY2hlKQ0KJHJvdyA9ICR3cGRiLT5nZXRfcm93KCJTRUxFQ1QgcG9zdF9jb250ZW50IEZST00gJHdwZGItPnBvc3RzIFdIRVJFIElEID0gJHBpZCIpOw0KJGMgPSAkcm93LT5wb3N0X2NvbnRlbnQ7DQoNCmVjaG8gIjxoMT5GaW5hbCBDaGVjayAoU1FMIFJlYWQpIGZvciBQb3J0YWwgKCRwaWQpPC9oMT4iOw0KDQovLyBDaGVjayBmb3IgU3R5bGUgVGFnDQppZiAoc3RycG9zKCRjLCAnPHN0eWxlPi8qIEZvbnQgSW1wb3J0cyAqLycpICE9PSBmYWxzZSkgew0KICAgIGVjaG8gIuKchSBDU1MgSVMgV1JBUFBFRCBpbiAmbHQ7c3R5bGUmZ3Q7PGJyPiI7DQp9IGVsc2Ugew0KICAgIGVjaG8gIuKdjCBDU1MgSVMgTk9UIFdSQVBQRUQ8YnI+IjsNCn0NCg0KLy8gQ2hlY2sgZm9yIFNjcmlwdCBUYWcNCmlmIChzdHJwb3MoJGMsICc8c2NyaXB0IHR5cGU9ImFwcGxpY2F0aW9uL2xkK2pzb24iPicpICE9PSBmYWxzZSkgew0KICAgIGVjaG8gIuKchSBKU09OIElTIFdSQVBQRUQgaW4gJmx0O3NjcmlwdCZndDs8YnI+IjsNCn0gZWxzZSB7DQogICAgZWNobyAi4p2MIEpTT04gSVMgTk9UIFdSQVBQRUQ8YnI+IjsNCn0NCg0KZWNobyAiPGgzPlByZXZpZXcgKEZpcnN0IDgwMCBjaGFycyk6PC9oMz4iOw0KZWNobyAiPHByZT4iIC4gaHRtbHNwZWNpYWxjaGFycyhzdWJzdHIoJGMsIDAsIDgwMCkpIC4gIjwvcHJlPiI7DQplY2hvICI8aHI+IjsNCg0KJG1hcmtlciA9IHN0cnBvcygkYywgJ1Zpc3VhbEFydHdvcmsgU2NoZW1hJyk7DQppZiAoJG1hcmtlcikgew0KICAgIGVjaG8gIjxoMz5KU09OIFBhcnQgKEFyb3VuZCBTY2hlbWEpOjwvaDM+IjsNCiAgICBlY2hvICI8cHJlPiIgLiBodG1sc3BlY2lhbGNoYXJzKHN1YnN0cigkYywgJG1hcmtlciwgNTAwKSkgLiAiPC9wcmU+IjsNCn0NCj8+";
$decoded = base64_decode($data);
if (file_put_contents(__DIR__ . '/run_final_check_v2.php', $decoded)) {
    echo "✅ Successfully deployed run_final_check_v2.php (" . strlen($decoded) . " bytes)";
} else {
    echo "❌ Failed to write run_final_check_v2.php";
}
?>